"use strict";(()=>{var rh=Object.create;var Yi=Object.defineProperty;var ih=Object.getOwnPropertyDescriptor;var sh=Object.getOwnPropertyNames;var lh=Object.getPrototypeOf,ah=Object.prototype.hasOwnProperty;var uh=(n,e,t)=>e in n?Yi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var an=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var ch=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of sh(e))!ah.call(n,r)&&r!==t&&Yi(n,r,{get:()=>e[r],enumerable:!(o=ih(e,r))||o.enumerable});return n};var q=(n,e,t)=>(t=n!=null?rh(lh(n)):{},ch(e||!n||!n.__esModule?Yi(t,"default",{value:n,enumerable:!0}):t,n));var du=(n,e,t)=>uh(n,typeof e!="symbol"?e+"":e,t);var Su=an(L=>{"use strict";var jt=Symbol.for("react.element"),dh=Symbol.for("react.portal"),fh=Symbol.for("react.fragment"),ph=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),hh=Symbol.for("react.provider"),gh=Symbol.for("react.context"),yh=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),_h=Symbol.for("react.memo"),Eh=Symbol.for("react.lazy"),fu=Symbol.iterator;function Th(n){return n===null||typeof n!="object"?null:(n=fu&&n[fu]||n["@@iterator"],typeof n=="function"?n:null)}var hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gu=Object.assign,yu={};function mt(n,e,t){this.props=n,this.context=e,this.refs=yu,this.updater=t||hu}mt.prototype.isReactComponent={};mt.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};mt.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vu(){}vu.prototype=mt.prototype;function Qi(n,e,t){this.props=n,this.context=e,this.refs=yu,this.updater=t||hu}var Xi=Qi.prototype=new vu;Xi.constructor=Qi;gu(Xi,mt.prototype);Xi.isPureReactComponent=!0;var pu=Array.isArray,_u=Object.prototype.hasOwnProperty,bi={current:null},Eu={key:!0,ref:!0,__self:!0,__source:!0};function Tu(n,e,t){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)_u.call(e,o)&&!Eu.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(n&&n.defaultProps)for(o in u=n.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:jt,type:n,key:i,ref:l,props:r,_owner:bi.current}}function Ch(n,e){return{$$typeof:jt,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Zi(n){return typeof n=="object"&&n!==null&&n.$$typeof===jt}function Sh(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var mu=/\/+/g;function Ki(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Sh(""+n.key):e.toString(36)}function jo(n,e,t,o,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case jt:case dh:l=!0}}if(l)return l=n,r=r(l),n=o===""?"."+Ki(l,0):o,pu(r)?(t="",n!=null&&(t=n.replace(mu,"$&/")+"/"),jo(r,e,t,"",function(d){return d})):r!=null&&(Zi(r)&&(r=Ch(r,t+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(mu,"$&/")+"/")+n)),e.push(r)),1;if(l=0,o=o===""?".":o+":",pu(n))for(var u=0;u<n.length;u++){i=n[u];var c=o+Ki(i,u);l+=jo(i,e,t,c,r)}else if(c=Th(n),typeof c=="function")for(n=c.call(n),u=0;!(i=n.next()).done;)i=i.value,c=o+Ki(i,u++),l+=jo(i,e,t,c,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Zo(n,e,t){if(n==null)return n;var o=[],r=0;return jo(n,o,"","",function(i){return e.call(t,i,r++)}),o}function Ih(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ye={current:null},er={transition:null},wh={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:er,ReactCurrentOwner:bi};function Cu(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Zo,forEach:function(n,e,t){Zo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Zo(n,function(){e++}),e},toArray:function(n){return Zo(n,function(e){return e})||[]},only:function(n){if(!Zi(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};L.Component=mt;L.Fragment=fh;L.Profiler=mh;L.PureComponent=Qi;L.StrictMode=ph;L.Suspense=vh;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wh;L.act=Cu;L.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=gu({},n.props),r=n.key,i=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=bi.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)_u.call(e,c)&&!Eu.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:jt,type:n.type,key:r,ref:i,props:o,_owner:l}};L.createContext=function(n){return n={$$typeof:gh,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:hh,_context:n},n.Consumer=n};L.createElement=Tu;L.createFactory=function(n){var e=Tu.bind(null,n);return e.type=n,e};L.createRef=function(){return{current:null}};L.forwardRef=function(n){return{$$typeof:yh,render:n}};L.isValidElement=Zi;L.lazy=function(n){return{$$typeof:Eh,_payload:{_status:-1,_result:n},_init:Ih}};L.memo=function(n,e){return{$$typeof:_h,type:n,compare:e===void 0?null:e}};L.startTransition=function(n){var e=er.transition;er.transition={};try{n()}finally{er.transition=e}};L.unstable_act=Cu;L.useCallback=function(n,e){return ye.current.useCallback(n,e)};L.useContext=function(n){return ye.current.useContext(n)};L.useDebugValue=function(){};L.useDeferredValue=function(n){return ye.current.useDeferredValue(n)};L.useEffect=function(n,e){return ye.current.useEffect(n,e)};L.useId=function(){return ye.current.useId()};L.useImperativeHandle=function(n,e,t){return ye.current.useImperativeHandle(n,e,t)};L.useInsertionEffect=function(n,e){return ye.current.useInsertionEffect(n,e)};L.useLayoutEffect=function(n,e){return ye.current.useLayoutEffect(n,e)};L.useMemo=function(n,e){return ye.current.useMemo(n,e)};L.useReducer=function(n,e,t){return ye.current.useReducer(n,e,t)};L.useRef=function(n){return ye.current.useRef(n)};L.useState=function(n){return ye.current.useState(n)};L.useSyncExternalStore=function(n,e,t){return ye.current.useSyncExternalStore(n,e,t)};L.useTransition=function(){return ye.current.useTransition()};L.version="18.3.1"});var un=an((DC,Iu)=>{"use strict";Iu.exports=Su()});var Lu=an(B=>{"use strict";function ts(n,e){var t=n.length;n.push(e);e:for(;0<t;){var o=t-1>>>1,r=n[o];if(0<nr(r,e))n[o]=e,n[t]=r,t=o;else break e}}function We(n){return n.length===0?null:n[0]}function or(n){if(n.length===0)return null;var e=n[0],t=n.pop();if(t!==e){n[0]=t;e:for(var o=0,r=n.length,i=r>>>1;o<i;){var l=2*(o+1)-1,u=n[l],c=l+1,d=n[c];if(0>nr(u,t))c<r&&0>nr(d,u)?(n[o]=d,n[c]=t,o=c):(n[o]=u,n[l]=t,o=l);else if(c<r&&0>nr(d,t))n[o]=d,n[c]=t,o=c;else break e}}return e}function nr(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(wu=performance,B.unstable_now=function(){return wu.now()}):(ji=Date,Au=ji.now(),B.unstable_now=function(){return ji.now()-Au});var wu,ji,Au,nn=[],In=[],Ah=1,Fe=null,ce=3,rr=!1,bn=!1,no=!1,Ru=typeof setTimeout=="function"?setTimeout:null,xu=typeof clearTimeout=="function"?clearTimeout:null,Pu=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function os(n){for(var e=We(In);e!==null;){if(e.callback===null)or(In);else if(e.startTime<=n)or(In),e.sortIndex=e.expirationTime,ts(nn,e);else break;e=We(In)}}function rs(n){if(no=!1,os(n),!bn)if(We(nn)!==null)bn=!0,ss(is);else{var e=We(In);e!==null&&ls(rs,e.startTime-n)}}function is(n,e){bn=!1,no&&(no=!1,xu(to),to=-1),rr=!0;var t=ce;try{for(os(e),Fe=We(nn);Fe!==null&&(!(Fe.expirationTime>e)||n&&!Du());){var o=Fe.callback;if(typeof o=="function"){Fe.callback=null,ce=Fe.priorityLevel;var r=o(Fe.expirationTime<=e);e=B.unstable_now(),typeof r=="function"?Fe.callback=r:Fe===We(nn)&&or(nn),os(e)}else or(nn);Fe=We(nn)}if(Fe!==null)var i=!0;else{var l=We(In);l!==null&&ls(rs,l.startTime-e),i=!1}return i}finally{Fe=null,ce=t,rr=!1}}var ir=!1,tr=null,to=-1,ku=5,Mu=-1;function Du(){return!(B.unstable_now()-Mu<ku)}function es(){if(tr!==null){var n=B.unstable_now();Mu=n;var e=!0;try{e=tr(!0,n)}finally{e?eo():(ir=!1,tr=null)}}else ir=!1}var eo;typeof Pu=="function"?eo=function(){Pu(es)}:typeof MessageChannel<"u"?(ns=new MessageChannel,Nu=ns.port2,ns.port1.onmessage=es,eo=function(){Nu.postMessage(null)}):eo=function(){Ru(es,0)};var ns,Nu;function ss(n){tr=n,ir||(ir=!0,eo())}function ls(n,e){to=Ru(function(){n(B.unstable_now())},e)}B.unstable_IdlePriority=5;B.unstable_ImmediatePriority=1;B.unstable_LowPriority=4;B.unstable_NormalPriority=3;B.unstable_Profiling=null;B.unstable_UserBlockingPriority=2;B.unstable_cancelCallback=function(n){n.callback=null};B.unstable_continueExecution=function(){bn||rr||(bn=!0,ss(is))};B.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ku=0<n?Math.floor(1e3/n):5};B.unstable_getCurrentPriorityLevel=function(){return ce};B.unstable_getFirstCallbackNode=function(){return We(nn)};B.unstable_next=function(n){switch(ce){case 1:case 2:case 3:var e=3;break;default:e=ce}var t=ce;ce=e;try{return n()}finally{ce=t}};B.unstable_pauseExecution=function(){};B.unstable_requestPaint=function(){};B.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=ce;ce=n;try{return e()}finally{ce=t}};B.unstable_scheduleCallback=function(n,e,t){var o=B.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?o+t:o):t=o,n){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=t+r,n={id:Ah++,callback:e,priorityLevel:n,startTime:t,expirationTime:r,sortIndex:-1},t>o?(n.sortIndex=t,ts(In,n),We(nn)===null&&n===We(In)&&(no?(xu(to),to=-1):no=!0,ls(rs,t-o))):(n.sortIndex=r,ts(nn,n),bn||rr||(bn=!0,ss(is))),n};B.unstable_shouldYield=Du;B.unstable_wrapCallback=function(n){var e=ce;return function(){var t=ce;ce=e;try{return n.apply(this,arguments)}finally{ce=t}}}});var Fu=an((UC,Uu)=>{"use strict";Uu.exports=Lu()});var Bf=an(Me=>{"use strict";var Ph=un(),xe=Fu();function P(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jc=new Set,wo={};function ct(n,e){Ut(n,e),Ut(n+"Capture",e)}function Ut(n,e){for(wo[n]=e,n=0;n<e.length;n++)Jc.add(e[n])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=Object.prototype.hasOwnProperty,Nh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vu={},qu={};function Rh(n){return xs.call(qu,n)?!0:xs.call(Vu,n)?!1:Nh.test(n)?qu[n]=!0:(Vu[n]=!0,!1)}function xh(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function kh(n,e,t,o){if(e===null||typeof e>"u"||xh(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(n,e,t,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ue[n]=new Ee(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ue[e]=new Ee(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ue[n]=new Ee(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ue[n]=new Ee(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ue[n]=new Ee(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ue[n]=new Ee(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ue[n]=new Ee(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ue[n]=new Ee(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ue[n]=new Ee(n,5,!1,n.toLowerCase(),null,!1,!1)});var Cl=/[\-:]([a-z])/g;function Sl(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Cl,Sl);ue[e]=new Ee(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Cl,Sl);ue[e]=new Ee(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Cl,Sl);ue[e]=new Ee(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ue[n]=new Ee(n,1,!1,n.toLowerCase(),null,!1,!1)});ue.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ue[n]=new Ee(n,1,!1,n.toLowerCase(),null,!0,!0)});function Il(n,e,t,o){var r=ue.hasOwnProperty(e)?ue[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kh(e,t,r,o)&&(t=null),o||r===null?Rh(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,o=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var _n=Ph.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sr=Symbol.for("react.element"),yt=Symbol.for("react.portal"),vt=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),ks=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),Wc=Symbol.for("react.context"),Al=Symbol.for("react.forward_ref"),Ms=Symbol.for("react.suspense"),Ds=Symbol.for("react.suspense_list"),Pl=Symbol.for("react.memo"),An=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Oc=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Gu=Symbol.iterator;function oo(n){return n===null||typeof n!="object"?null:(n=Gu&&n[Gu]||n["@@iterator"],typeof n=="function"?n:null)}var Q=Object.assign,as;function fo(n){if(as===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);as=e&&e[1]||""}return`
`+as+n}var us=!1;function cs(n,e){if(!n||us)return"";us=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){o=d}n.call(e.prototype)}else{try{throw Error()}catch(d){o=d}n()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=l&&0<=u);break}}}finally{us=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?fo(n):""}function Mh(n){switch(n.tag){case 5:return fo(n.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return n=cs(n.type,!1),n;case 11:return n=cs(n.type.render,!1),n;case 1:return n=cs(n.type,!0),n;default:return""}}function Ls(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case vt:return"Fragment";case yt:return"Portal";case ks:return"Profiler";case wl:return"StrictMode";case Ms:return"Suspense";case Ds:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Wc:return(n.displayName||"Context")+".Consumer";case $c:return(n._context.displayName||"Context")+".Provider";case Al:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Pl:return e=n.displayName||null,e!==null?e:Ls(n.type)||"Memo";case An:e=n._payload,n=n._init;try{return Ls(n(e))}catch{}}return null}function Dh(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ls(e);case 8:return e===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yc(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lh(n){var e=Yc(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function lr(n){n._valueTracker||(n._valueTracker=Lh(n))}function Kc(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=Yc(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function Ur(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Us(n,e){var t=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Hu(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=Hn(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qc(n,e){e=e.checked,e!=null&&Il(n,"checked",e,!1)}function Fs(n,e){Qc(n,e);var t=Hn(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Vs(n,e.type,t):e.hasOwnProperty("defaultValue")&&Vs(n,e.type,Hn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Bu(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Vs(n,e,t){(e!=="number"||Ur(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var po=Array.isArray;function Rt(n,e,t,o){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&o&&(n[t].defaultSelected=!0)}else{for(t=""+Hn(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,o&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function qs(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zu(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(P(92));if(po(t)){if(1<t.length)throw Error(P(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Hn(t)}}function Xc(n,e){var t=Hn(e.value),o=Hn(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function Ju(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function bc(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gs(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?bc(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ar,Zc=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ar.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ao(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uh=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(n){Uh.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),go[e]=go[n]})});function jc(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||go.hasOwnProperty(n)&&go[n]?(""+e).trim():e+"px"}function ed(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,r=jc(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,r):n[t]=r}}var Fh=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(n,e){if(e){if(Fh[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Bs(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Nl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Js=null,xt=null,kt=null;function $u(n){if(n=$o(n)){if(typeof Js!="function")throw Error(P(280));var e=n.stateNode;e&&(e=ui(e),Js(n.stateNode,n.type,e))}}function nd(n){xt?kt?kt.push(n):kt=[n]:xt=n}function td(){if(xt){var n=xt,e=kt;if(kt=xt=null,$u(n),e)for(n=0;n<e.length;n++)$u(e[n])}}function od(n,e){return n(e)}function rd(){}var ds=!1;function id(n,e,t){if(ds)return n(e,t);ds=!0;try{return od(n,e,t)}finally{ds=!1,(xt!==null||kt!==null)&&(rd(),td())}}function Po(n,e){var t=n.stateNode;if(t===null)return null;var o=ui(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(P(231,e,typeof t));return t}var $s=!1;if(hn)try{ht={},Object.defineProperty(ht,"passive",{get:function(){$s=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{$s=!1}var ht;function Vh(n,e,t,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(f){this.onError(f)}}var yo=!1,Fr=null,Vr=!1,Ws=null,qh={onError:function(n){yo=!0,Fr=n}};function Gh(n,e,t,o,r,i,l,u,c){yo=!1,Fr=null,Vh.apply(qh,arguments)}function Hh(n,e,t,o,r,i,l,u,c){if(Gh.apply(this,arguments),yo){if(yo){var d=Fr;yo=!1,Fr=null}else throw Error(P(198));Vr||(Vr=!0,Ws=d)}}function dt(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function sd(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Wu(n){if(dt(n)!==n)throw Error(P(188))}function Bh(n){var e=n.alternate;if(!e){if(e=dt(n),e===null)throw Error(P(188));return e!==n?null:n}for(var t=n,o=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){t=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return Wu(r),n;if(i===o)return Wu(r),e;i=i.sibling}throw Error(P(188))}if(t.return!==o.return)t=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===t){l=!0,t=r,o=i;break}if(u===o){l=!0,o=r,t=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===t){l=!0,t=i,o=r;break}if(u===o){l=!0,o=i,t=r;break}u=u.sibling}if(!l)throw Error(P(189))}}if(t.alternate!==o)throw Error(P(190))}if(t.tag!==3)throw Error(P(188));return t.stateNode.current===t?n:e}function ld(n){return n=Bh(n),n!==null?ad(n):null}function ad(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=ad(n);if(e!==null)return e;n=n.sibling}return null}var ud=xe.unstable_scheduleCallback,Ou=xe.unstable_cancelCallback,zh=xe.unstable_shouldYield,Jh=xe.unstable_requestPaint,j=xe.unstable_now,$h=xe.unstable_getCurrentPriorityLevel,Rl=xe.unstable_ImmediatePriority,cd=xe.unstable_UserBlockingPriority,qr=xe.unstable_NormalPriority,Wh=xe.unstable_LowPriority,dd=xe.unstable_IdlePriority,ii=null,sn=null;function Oh(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ii,n,void 0,(n.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Qh,Yh=Math.log,Kh=Math.LN2;function Qh(n){return n>>>=0,n===0?32:31-(Yh(n)/Kh|0)|0}var ur=64,cr=4194304;function mo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Gr(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,r=n.suspendedLanes,i=n.pingedLanes,l=t&268435455;if(l!==0){var u=l&~r;u!==0?o=mo(u):(i&=l,i!==0&&(o=mo(i)))}else l=t&~r,l!==0?o=mo(l):i!==0&&(o=mo(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-Xe(e),r=1<<t,o|=n[t],e&=~r;return o}function Xh(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bh(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var l=31-Xe(i),u=1<<l,c=r[l];c===-1?(!(u&t)||u&o)&&(r[l]=Xh(u,e)):c<=e&&(n.expiredLanes|=u),i&=~u}}function Os(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function fd(){var n=ur;return ur<<=1,!(ur&4194240)&&(ur=64),n}function fs(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function zo(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Xe(e),n[e]=t}function Zh(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Xe(t),i=1<<r;e[r]=0,o[r]=-1,n[r]=-1,t&=~i}}function xl(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-Xe(t),r=1<<o;r&e|n[o]&e&&(n[o]|=e),t&=~r}}var G=0;function pd(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var md,kl,hd,gd,yd,Ys=!1,dr=[],Mn=null,Dn=null,Ln=null,No=new Map,Ro=new Map,Nn=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yu(n,e){switch(n){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(e.pointerId)}}function ro(n,e,t,o,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=$o(e),e!==null&&kl(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function eg(n,e,t,o,r){switch(e){case"focusin":return Mn=ro(Mn,n,e,t,o,r),!0;case"dragenter":return Dn=ro(Dn,n,e,t,o,r),!0;case"mouseover":return Ln=ro(Ln,n,e,t,o,r),!0;case"pointerover":var i=r.pointerId;return No.set(i,ro(No.get(i)||null,n,e,t,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Ro.set(i,ro(Ro.get(i)||null,n,e,t,o,r)),!0}return!1}function vd(n){var e=et(n.target);if(e!==null){var t=dt(e);if(t!==null){if(e=t.tag,e===13){if(e=sd(t),e!==null){n.blockedOn=e,yd(n.priority,function(){hd(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wr(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Ks(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);zs=o,t.target.dispatchEvent(o),zs=null}else return e=$o(t),e!==null&&kl(e),n.blockedOn=t,!1;e.shift()}return!0}function Ku(n,e,t){wr(n)&&t.delete(e)}function ng(){Ys=!1,Mn!==null&&wr(Mn)&&(Mn=null),Dn!==null&&wr(Dn)&&(Dn=null),Ln!==null&&wr(Ln)&&(Ln=null),No.forEach(Ku),Ro.forEach(Ku)}function io(n,e){n.blockedOn===e&&(n.blockedOn=null,Ys||(Ys=!0,xe.unstable_scheduleCallback(xe.unstable_NormalPriority,ng)))}function xo(n){function e(r){return io(r,n)}if(0<dr.length){io(dr[0],n);for(var t=1;t<dr.length;t++){var o=dr[t];o.blockedOn===n&&(o.blockedOn=null)}}for(Mn!==null&&io(Mn,n),Dn!==null&&io(Dn,n),Ln!==null&&io(Ln,n),No.forEach(e),Ro.forEach(e),t=0;t<Nn.length;t++)o=Nn[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<Nn.length&&(t=Nn[0],t.blockedOn===null);)vd(t),t.blockedOn===null&&Nn.shift()}var Mt=_n.ReactCurrentBatchConfig,Hr=!0;function tg(n,e,t,o){var r=G,i=Mt.transition;Mt.transition=null;try{G=1,Ml(n,e,t,o)}finally{G=r,Mt.transition=i}}function og(n,e,t,o){var r=G,i=Mt.transition;Mt.transition=null;try{G=4,Ml(n,e,t,o)}finally{G=r,Mt.transition=i}}function Ml(n,e,t,o){if(Hr){var r=Ks(n,e,t,o);if(r===null)_s(n,e,o,Br,t),Yu(n,o);else if(eg(r,n,e,t,o))o.stopPropagation();else if(Yu(n,o),e&4&&-1<jh.indexOf(n)){for(;r!==null;){var i=$o(r);if(i!==null&&md(i),i=Ks(n,e,t,o),i===null&&_s(n,e,o,Br,t),i===r)break;r=i}r!==null&&o.stopPropagation()}else _s(n,e,o,null,t)}}var Br=null;function Ks(n,e,t,o){if(Br=null,n=Nl(o),n=et(n),n!==null)if(e=dt(n),e===null)n=null;else if(t=e.tag,t===13){if(n=sd(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Br=n,null}function _d(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($h()){case Rl:return 1;case cd:return 4;case qr:case Wh:return 16;case dd:return 536870912;default:return 16}default:return 16}}var xn=null,Dl=null,Ar=null;function Ed(){if(Ar)return Ar;var n,e=Dl,t=e.length,o,r="value"in xn?xn.value:xn.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var l=t-n;for(o=1;o<=l&&e[t-o]===r[i-o];o++);return Ar=r.slice(n,1<o?1-o:void 0)}function Pr(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function fr(){return!0}function Qu(){return!1}function ke(n){function e(t,o,r,i,l){this._reactName=t,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fr:Qu,this.isPropagationStopped=Qu,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),e}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=ke(zt),Jo=Q({},zt,{view:0,detail:0}),rg=ke(Jo),ps,ms,so,si=Q({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==so&&(so&&n.type==="mousemove"?(ps=n.screenX-so.screenX,ms=n.screenY-so.screenY):ms=ps=0,so=n),ps)},movementY:function(n){return"movementY"in n?n.movementY:ms}}),Xu=ke(si),ig=Q({},si,{dataTransfer:0}),sg=ke(ig),lg=Q({},Jo,{relatedTarget:0}),hs=ke(lg),ag=Q({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=ke(ag),cg=Q({},zt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dg=ke(cg),fg=Q({},zt,{data:0}),bu=ke(fg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=hg[n])?!!e[n]:!1}function Ul(){return gg}var yg=Q({},Jo,{key:function(n){if(n.key){var e=pg[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mg[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(n){return n.type==="keypress"?Pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vg=ke(yg),_g=Q({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=ke(_g),Eg=Q({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),Tg=ke(Eg),Cg=Q({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=ke(Cg),Ig=Q({},si,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=ke(Ig),Ag=[9,13,27,32],Fl=hn&&"CompositionEvent"in window,vo=null;hn&&"documentMode"in document&&(vo=document.documentMode);var Pg=hn&&"TextEvent"in window&&!vo,Td=hn&&(!Fl||vo&&8<vo&&11>=vo),ju=" ",ec=!1;function Cd(n,e){switch(n){case"keyup":return Ag.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _t=!1;function Ng(n,e){switch(n){case"compositionend":return Sd(e);case"keypress":return e.which!==32?null:(ec=!0,ju);case"textInput":return n=e.data,n===ju&&ec?null:n;default:return null}}function Rg(n,e){if(_t)return n==="compositionend"||!Fl&&Cd(n,e)?(n=Ed(),Ar=Dl=xn=null,_t=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Td&&e.locale!=="ko"?null:e.data;default:return null}}var xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!xg[n.type]:e==="textarea"}function Id(n,e,t,o){nd(o),e=zr(e,"onChange"),0<e.length&&(t=new Ll("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var _o=null,ko=null;function kg(n){Ud(n,0)}function li(n){var e=Ct(n);if(Kc(e))return n}function Mg(n,e){if(n==="change")return e}var wd=!1;hn&&(hn?(mr="oninput"in document,mr||(gs=document.createElement("div"),gs.setAttribute("oninput","return;"),mr=typeof gs.oninput=="function"),pr=mr):pr=!1,wd=pr&&(!document.documentMode||9<document.documentMode));var pr,mr,gs;function tc(){_o&&(_o.detachEvent("onpropertychange",Ad),ko=_o=null)}function Ad(n){if(n.propertyName==="value"&&li(ko)){var e=[];Id(e,ko,n,Nl(n)),id(kg,e)}}function Dg(n,e,t){n==="focusin"?(tc(),_o=e,ko=t,_o.attachEvent("onpropertychange",Ad)):n==="focusout"&&tc()}function Lg(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return li(ko)}function Ug(n,e){if(n==="click")return li(e)}function Fg(n,e){if(n==="input"||n==="change")return li(e)}function Vg(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ze=typeof Object.is=="function"?Object.is:Vg;function Mo(n,e){if(Ze(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!xs.call(e,r)||!Ze(n[r],e[r]))return!1}return!0}function oc(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rc(n,e){var t=oc(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=oc(t)}}function Pd(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Pd(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Nd(){for(var n=window,e=Ur();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ur(n.document)}return e}function Vl(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function qg(n){var e=Nd(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Pd(t.ownerDocument.documentElement,t)){if(o!==null&&Vl(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!n.extend&&i>o&&(r=o,o=i,i=r),r=rc(t,i);var l=rc(t,o);r&&l&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>o?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Gg=hn&&"documentMode"in document&&11>=document.documentMode,Et=null,Qs=null,Eo=null,Xs=!1;function ic(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xs||Et==null||Et!==Ur(o)||(o=Et,"selectionStart"in o&&Vl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Eo&&Mo(Eo,o)||(Eo=o,o=zr(Qs,"onSelect"),0<o.length&&(e=new Ll("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=Et)))}function hr(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Tt={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionend:hr("Transition","TransitionEnd")},ys={},Rd={};hn&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);function ai(n){if(ys[n])return ys[n];if(!Tt[n])return n;var e=Tt[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Rd)return ys[n]=e[t];return n}var xd=ai("animationend"),kd=ai("animationiteration"),Md=ai("animationstart"),Dd=ai("transitionend"),Ld=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(n,e){Ld.set(n,e),ct(e,[n])}for(gr=0;gr<sc.length;gr++)yr=sc[gr],lc=yr.toLowerCase(),ac=yr[0].toUpperCase()+yr.slice(1),zn(lc,"on"+ac);var yr,lc,ac,gr;zn(xd,"onAnimationEnd");zn(kd,"onAnimationIteration");zn(Md,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Dd,"onTransitionEnd");Ut("onMouseEnter",["mouseout","mouseover"]);Ut("onMouseLeave",["mouseout","mouseover"]);Ut("onPointerEnter",["pointerout","pointerover"]);Ut("onPointerLeave",["pointerout","pointerover"]);ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ct("onBeforeInput",["compositionend","keypress","textInput","paste"]);ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function uc(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,Hh(o,e,void 0,n),n.currentTarget=null}function Ud(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;uc(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;uc(r,u,d),i=c}}}if(Vr)throw n=Ws,Vr=!1,Ws=null,n}function J(n,e){var t=e[nl];t===void 0&&(t=e[nl]=new Set);var o=n+"__bubble";t.has(o)||(Fd(e,n,2,!1),t.add(o))}function vs(n,e,t){var o=0;e&&(o|=4),Fd(t,n,o,e)}var vr="_reactListening"+Math.random().toString(36).slice(2);function Do(n){if(!n[vr]){n[vr]=!0,Jc.forEach(function(t){t!=="selectionchange"&&(Hg.has(t)||vs(t,!1,n),vs(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[vr]||(e[vr]=!0,vs("selectionchange",!1,e))}}function Fd(n,e,t,o){switch(_d(e)){case 1:var r=tg;break;case 4:r=og;break;default:r=Ml}t=r.bind(null,e,t,n),r=void 0,!$s||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function _s(n,e,t,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=et(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}id(function(){var d=i,f=Nl(t),p=[];e:{var m=Ld.get(n);if(m!==void 0){var g=Ll,_=n;switch(n){case"keypress":if(Pr(t)===0)break e;case"keydown":case"keyup":g=vg;break;case"focusin":_="focus",g=hs;break;case"focusout":_="blur",g=hs;break;case"beforeblur":case"afterblur":g=hs;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Tg;break;case xd:case kd:case Md:g=ug;break;case Dd:g=Sg;break;case"scroll":g=rg;break;case"wheel":g=wg;break;case"copy":case"cut":case"paste":g=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Zu}var E=(e&4)!==0,N=!E&&n==="scroll",y=E?m!==null?m+"Capture":null:m;E=[];for(var h=d,v;h!==null;){v=h;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=Po(h,y),T!=null&&E.push(Lo(h,T,v)))),N)break;h=h.return}0<E.length&&(m=new g(m,_,null,t,f),p.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",m&&t!==zs&&(_=t.relatedTarget||t.fromElement)&&(et(_)||_[gn]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(_=t.relatedTarget||t.toElement,g=d,_=_?et(_):null,_!==null&&(N=dt(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=d),g!==_)){if(E=Xu,T="onMouseLeave",y="onMouseEnter",h="mouse",(n==="pointerout"||n==="pointerover")&&(E=Zu,T="onPointerLeave",y="onPointerEnter",h="pointer"),N=g==null?m:Ct(g),v=_==null?m:Ct(_),m=new E(T,h+"leave",g,t,f),m.target=N,m.relatedTarget=v,T=null,et(f)===d&&(E=new E(y,h+"enter",_,t,f),E.target=v,E.relatedTarget=N,T=E),N=T,g&&_)n:{for(E=g,y=_,h=0,v=E;v;v=gt(v))h++;for(v=0,T=y;T;T=gt(T))v++;for(;0<h-v;)E=gt(E),h--;for(;0<v-h;)y=gt(y),v--;for(;h--;){if(E===y||y!==null&&E===y.alternate)break n;E=gt(E),y=gt(y)}E=null}else E=null;g!==null&&cc(p,m,g,E,!1),_!==null&&N!==null&&cc(p,N,_,E,!0)}}e:{if(m=d?Ct(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=Mg;else if(nc(m))if(wd)C=Fg;else{C=Lg;var S=Dg}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=Ug);if(C&&(C=C(n,d))){Id(p,C,t,f);break e}S&&S(n,m,d),n==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Vs(m,"number",m.value)}switch(S=d?Ct(d):window,n){case"focusin":(nc(S)||S.contentEditable==="true")&&(Et=S,Qs=d,Eo=null);break;case"focusout":Eo=Qs=Et=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,ic(p,t,f);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":ic(p,t,f)}var I;if(Fl)e:{switch(n){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else _t?Cd(n,t)&&(w="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(w="onCompositionStart");w&&(Td&&t.locale!=="ko"&&(_t||w!=="onCompositionStart"?w==="onCompositionEnd"&&_t&&(I=Ed()):(xn=f,Dl="value"in xn?xn.value:xn.textContent,_t=!0)),S=zr(d,w),0<S.length&&(w=new bu(w,n,null,t,f),p.push({event:w,listeners:S}),I?w.data=I:(I=Sd(t),I!==null&&(w.data=I)))),(I=Pg?Ng(n,t):Rg(n,t))&&(d=zr(d,"onBeforeInput"),0<d.length&&(f=new bu("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:d}),f.data=I))}Ud(p,e)})}function Lo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function zr(n,e){for(var t=e+"Capture",o=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Po(n,t),i!=null&&o.unshift(Lo(n,i,r)),i=Po(n,e),i!=null&&o.push(Lo(n,i,r))),n=n.return}return o}function gt(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cc(n,e,t,o,r){for(var i=e._reactName,l=[];t!==null&&t!==o;){var u=t,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=Po(t,i),c!=null&&l.unshift(Lo(t,c,u))):r||(c=Po(t,i),c!=null&&l.push(Lo(t,c,u)))),t=t.return}l.length!==0&&n.push({event:e,listeners:l})}var Bg=/\r\n?/g,zg=/\u0000|\uFFFD/g;function dc(n){return(typeof n=="string"?n:""+n).replace(Bg,`
`).replace(zg,"")}function _r(n,e,t){if(e=dc(e),dc(n)!==e&&t)throw Error(P(425))}function Jr(){}var bs=null,Zs=null;function js(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,Jg=typeof clearTimeout=="function"?clearTimeout:void 0,fc=typeof Promise=="function"?Promise:void 0,$g=typeof queueMicrotask=="function"?queueMicrotask:typeof fc<"u"?function(n){return fc.resolve(null).then(n).catch(Wg)}:el;function Wg(n){setTimeout(function(){throw n})}function Es(n,e){var t=e,o=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(o===0){n.removeChild(r),xo(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=r}while(t);xo(e)}function Un(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function pc(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Jt=Math.random().toString(36).slice(2),rn="__reactFiber$"+Jt,Uo="__reactProps$"+Jt,gn="__reactContainer$"+Jt,nl="__reactEvents$"+Jt,Og="__reactListeners$"+Jt,Yg="__reactHandles$"+Jt;function et(n){var e=n[rn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[gn]||t[rn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=pc(n);n!==null;){if(t=n[rn])return t;n=pc(n)}return e}n=t,t=n.parentNode}return null}function $o(n){return n=n[rn]||n[gn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ct(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(P(33))}function ui(n){return n[Uo]||null}var tl=[],St=-1;function Jn(n){return{current:n}}function $(n){0>St||(n.current=tl[St],tl[St]=null,St--)}function z(n,e){St++,tl[St]=n.current,n.current=e}var Bn={},me=Jn(Bn),Se=Jn(!1),it=Bn;function Ft(n,e){var t=n.type.contextTypes;if(!t)return Bn;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ie(n){return n=n.childContextTypes,n!=null}function $r(){$(Se),$(me)}function mc(n,e,t){if(me.current!==Bn)throw Error(P(168));z(me,e),z(Se,t)}function Vd(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(P(108,Dh(n)||"Unknown",r));return Q({},t,o)}function Wr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bn,it=me.current,z(me,n),z(Se,Se.current),!0}function hc(n,e,t){var o=n.stateNode;if(!o)throw Error(P(169));t?(n=Vd(n,e,it),o.__reactInternalMemoizedMergedChildContext=n,$(Se),$(me),z(me,n)):$(Se),z(Se,t)}var dn=null,ci=!1,Ts=!1;function qd(n){dn===null?dn=[n]:dn.push(n)}function Kg(n){ci=!0,qd(n)}function $n(){if(!Ts&&dn!==null){Ts=!0;var n=0,e=G;try{var t=dn;for(G=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}dn=null,ci=!1}catch(r){throw dn!==null&&(dn=dn.slice(n+1)),ud(Rl,$n),r}finally{G=e,Ts=!1}}return null}var It=[],wt=0,Or=null,Yr=0,Ve=[],qe=0,st=null,fn=1,pn="";function Zn(n,e){It[wt++]=Yr,It[wt++]=Or,Or=n,Yr=e}function Gd(n,e,t){Ve[qe++]=fn,Ve[qe++]=pn,Ve[qe++]=st,st=n;var o=fn;n=pn;var r=32-Xe(o)-1;o&=~(1<<r),t+=1;var i=32-Xe(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,fn=1<<32-Xe(e)+r|t<<r|o,pn=i+n}else fn=1<<i|t<<r|o,pn=n}function ql(n){n.return!==null&&(Zn(n,1),Gd(n,1,0))}function Gl(n){for(;n===Or;)Or=It[--wt],It[wt]=null,Yr=It[--wt],It[wt]=null;for(;n===st;)st=Ve[--qe],Ve[qe]=null,pn=Ve[--qe],Ve[qe]=null,fn=Ve[--qe],Ve[qe]=null}var Re=null,Ne=null,O=!1,Qe=null;function Hd(n,e){var t=Ge(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function gc(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Re=n,Ne=Un(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Re=n,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=st!==null?{id:fn,overflow:pn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ge(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Re=n,Ne=null,!0):!1;default:return!1}}function ol(n){return(n.mode&1)!==0&&(n.flags&128)===0}function rl(n){if(O){var e=Ne;if(e){var t=e;if(!gc(n,e)){if(ol(n))throw Error(P(418));e=Un(t.nextSibling);var o=Re;e&&gc(n,e)?Hd(o,t):(n.flags=n.flags&-4097|2,O=!1,Re=n)}}else{if(ol(n))throw Error(P(418));n.flags=n.flags&-4097|2,O=!1,Re=n}}}function yc(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Re=n}function Er(n){if(n!==Re)return!1;if(!O)return yc(n),O=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!js(n.type,n.memoizedProps)),e&&(e=Ne)){if(ol(n))throw Bd(),Error(P(418));for(;e;)Hd(n,e),e=Un(e.nextSibling)}if(yc(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(P(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ne=Un(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ne=null}}else Ne=Re?Un(n.stateNode.nextSibling):null;return!0}function Bd(){for(var n=Ne;n;)n=Un(n.nextSibling)}function Vt(){Ne=Re=null,O=!1}function Hl(n){Qe===null?Qe=[n]:Qe.push(n)}var Qg=_n.ReactCurrentBatchConfig;function lo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(P(309));var o=t.stateNode}if(!o)throw Error(P(147,n));var r=o,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof n!="string")throw Error(P(284));if(!t._owner)throw Error(P(290,n))}return n}function Tr(n,e){throw n=Object.prototype.toString.call(e),Error(P(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function vc(n){var e=n._init;return e(n._payload)}function zd(n){function e(y,h){if(n){var v=y.deletions;v===null?(y.deletions=[h],y.flags|=16):v.push(h)}}function t(y,h){if(!n)return null;for(;h!==null;)e(y,h),h=h.sibling;return null}function o(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function r(y,h){return y=Gn(y,h),y.index=0,y.sibling=null,y}function i(y,h,v){return y.index=v,n?(v=y.alternate,v!==null?(v=v.index,v<h?(y.flags|=2,h):v):(y.flags|=2,h)):(y.flags|=1048576,h)}function l(y){return n&&y.alternate===null&&(y.flags|=2),y}function u(y,h,v,T){return h===null||h.tag!==6?(h=Ns(v,y.mode,T),h.return=y,h):(h=r(h,v),h.return=y,h)}function c(y,h,v,T){var C=v.type;return C===vt?f(y,h,v.props.children,T,v.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===An&&vc(C)===h.type)?(T=r(h,v.props),T.ref=lo(y,h,v),T.return=y,T):(T=Lr(v.type,v.key,v.props,null,y.mode,T),T.ref=lo(y,h,v),T.return=y,T)}function d(y,h,v,T){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Rs(v,y.mode,T),h.return=y,h):(h=r(h,v.children||[]),h.return=y,h)}function f(y,h,v,T,C){return h===null||h.tag!==7?(h=rt(v,y.mode,T,C),h.return=y,h):(h=r(h,v),h.return=y,h)}function p(y,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ns(""+h,y.mode,v),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case sr:return v=Lr(h.type,h.key,h.props,null,y.mode,v),v.ref=lo(y,null,h),v.return=y,v;case yt:return h=Rs(h,y.mode,v),h.return=y,h;case An:var T=h._init;return p(y,T(h._payload),v)}if(po(h)||oo(h))return h=rt(h,y.mode,v,null),h.return=y,h;Tr(y,h)}return null}function m(y,h,v,T){var C=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:u(y,h,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sr:return v.key===C?c(y,h,v,T):null;case yt:return v.key===C?d(y,h,v,T):null;case An:return C=v._init,m(y,h,C(v._payload),T)}if(po(v)||oo(v))return C!==null?null:f(y,h,v,T,null);Tr(y,v)}return null}function g(y,h,v,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,u(h,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case sr:return y=y.get(T.key===null?v:T.key)||null,c(h,y,T,C);case yt:return y=y.get(T.key===null?v:T.key)||null,d(h,y,T,C);case An:var S=T._init;return g(y,h,v,S(T._payload),C)}if(po(T)||oo(T))return y=y.get(v)||null,f(h,y,T,C,null);Tr(h,T)}return null}function _(y,h,v,T){for(var C=null,S=null,I=h,w=h=0,A=null;I!==null&&w<v.length;w++){I.index>w?(A=I,I=null):A=I.sibling;var R=m(y,I,v[w],T);if(R===null){I===null&&(I=A);break}n&&I&&R.alternate===null&&e(y,I),h=i(R,h,w),S===null?C=R:S.sibling=R,S=R,I=A}if(w===v.length)return t(y,I),O&&Zn(y,w),C;if(I===null){for(;w<v.length;w++)I=p(y,v[w],T),I!==null&&(h=i(I,h,w),S===null?C=I:S.sibling=I,S=I);return O&&Zn(y,w),C}for(I=o(y,I);w<v.length;w++)A=g(I,y,w,v[w],T),A!==null&&(n&&A.alternate!==null&&I.delete(A.key===null?w:A.key),h=i(A,h,w),S===null?C=A:S.sibling=A,S=A);return n&&I.forEach(function(D){return e(y,D)}),O&&Zn(y,w),C}function E(y,h,v,T){var C=oo(v);if(typeof C!="function")throw Error(P(150));if(v=C.call(v),v==null)throw Error(P(151));for(var S=C=null,I=h,w=h=0,A=null,R=v.next();I!==null&&!R.done;w++,R=v.next()){I.index>w?(A=I,I=null):A=I.sibling;var D=m(y,I,R.value,T);if(D===null){I===null&&(I=A);break}n&&I&&D.alternate===null&&e(y,I),h=i(D,h,w),S===null?C=D:S.sibling=D,S=D,I=A}if(R.done)return t(y,I),O&&Zn(y,w),C;if(I===null){for(;!R.done;w++,R=v.next())R=p(y,R.value,T),R!==null&&(h=i(R,h,w),S===null?C=R:S.sibling=R,S=R);return O&&Zn(y,w),C}for(I=o(y,I);!R.done;w++,R=v.next())R=g(I,y,w,R.value,T),R!==null&&(n&&R.alternate!==null&&I.delete(R.key===null?w:R.key),h=i(R,h,w),S===null?C=R:S.sibling=R,S=R);return n&&I.forEach(function(H){return e(y,H)}),O&&Zn(y,w),C}function N(y,h,v,T){if(typeof v=="object"&&v!==null&&v.type===vt&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case sr:e:{for(var C=v.key,S=h;S!==null;){if(S.key===C){if(C=v.type,C===vt){if(S.tag===7){t(y,S.sibling),h=r(S,v.props.children),h.return=y,y=h;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===An&&vc(C)===S.type){t(y,S.sibling),h=r(S,v.props),h.ref=lo(y,S,v),h.return=y,y=h;break e}t(y,S);break}else e(y,S);S=S.sibling}v.type===vt?(h=rt(v.props.children,y.mode,T,v.key),h.return=y,y=h):(T=Lr(v.type,v.key,v.props,null,y.mode,T),T.ref=lo(y,h,v),T.return=y,y=T)}return l(y);case yt:e:{for(S=v.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){t(y,h.sibling),h=r(h,v.children||[]),h.return=y,y=h;break e}else{t(y,h);break}else e(y,h);h=h.sibling}h=Rs(v,y.mode,T),h.return=y,y=h}return l(y);case An:return S=v._init,N(y,h,S(v._payload),T)}if(po(v))return _(y,h,v,T);if(oo(v))return E(y,h,v,T);Tr(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(t(y,h.sibling),h=r(h,v),h.return=y,y=h):(t(y,h),h=Ns(v,y.mode,T),h.return=y,y=h),l(y)):t(y,h)}return N}var qt=zd(!0),Jd=zd(!1),Kr=Jn(null),Qr=null,At=null,Bl=null;function zl(){Bl=At=Qr=null}function Jl(n){var e=Kr.current;$(Kr),n._currentValue=e}function il(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Dt(n,e){Qr=n,Bl=At=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ce=!0),n.firstContext=null)}function Be(n){var e=n._currentValue;if(Bl!==n)if(n={context:n,memoizedValue:e,next:null},At===null){if(Qr===null)throw Error(P(308));At=n,Qr.dependencies={lanes:0,firstContext:n}}else At=At.next=n;return e}var nt=null;function $l(n){nt===null?nt=[n]:nt.push(n)}function $d(n,e,t,o){var r=e.interleaved;return r===null?(t.next=t,$l(e)):(t.next=r.next,r.next=t),e.interleaved=t,yn(n,o)}function yn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Pn=!1;function Wl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wd(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,F&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,yn(n,t)}return r=o.interleaved,r===null?(e.next=e,$l(o)):(e.next=r.next,r.next=e),o.interleaved=e,yn(n,t)}function Nr(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,xl(n,t)}}function _c(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=l:i=i.next=l,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Xr(n,e,t,o){var r=n.updateQueue;Pn=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=n.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var p=r.baseState;l=0,f=d=c=null,u=i;do{var m=u.lane,g=u.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=n,E=u;switch(m=e,g=t,E.tag){case 1:if(_=E.payload,typeof _=="function"){p=_.call(g,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,m=typeof _=="function"?_.call(g,p,m):_,m==null)break e;p=Q({},p,m);break e;case 2:Pn=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,m=r.effects,m===null?r.effects=[u]:m.push(u))}else g={eventTime:g,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=g,c=p):f=f.next=g,l|=m;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;m=u,u=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(f===null&&(c=p),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);at|=l,n.lanes=l,n.memoizedState=p}}function Ec(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],r=o.callback;if(r!==null){if(o.callback=null,o=t,typeof r!="function")throw Error(P(191,r));r.call(o)}}}var Wo={},ln=Jn(Wo),Fo=Jn(Wo),Vo=Jn(Wo);function tt(n){if(n===Wo)throw Error(P(174));return n}function Ol(n,e){switch(z(Vo,e),z(Fo,n),z(ln,Wo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gs(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Gs(e,n)}$(ln),z(ln,e)}function Gt(){$(ln),$(Fo),$(Vo)}function Od(n){tt(Vo.current);var e=tt(ln.current),t=Gs(e,n.type);e!==t&&(z(Fo,n),z(ln,t))}function Yl(n){Fo.current===n&&($(ln),$(Fo))}var Y=Jn(0);function br(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cs=[];function Kl(){for(var n=0;n<Cs.length;n++)Cs[n]._workInProgressVersionPrimary=null;Cs.length=0}var Rr=_n.ReactCurrentDispatcher,Ss=_n.ReactCurrentBatchConfig,lt=0,K=null,ne=null,ie=null,Zr=!1,To=!1,qo=0,Xg=0;function de(){throw Error(P(321))}function Ql(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ze(n[t],e[t]))return!1;return!0}function Xl(n,e,t,o,r,i){if(lt=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rr.current=n===null||n.memoizedState===null?ey:ny,n=t(o,r),To){i=0;do{if(To=!1,qo=0,25<=i)throw Error(P(301));i+=1,ie=ne=null,e.updateQueue=null,Rr.current=ty,n=t(o,r)}while(To)}if(Rr.current=jr,e=ne!==null&&ne.next!==null,lt=0,ie=ne=K=null,Zr=!1,e)throw Error(P(300));return n}function bl(){var n=qo!==0;return qo=0,n}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?K.memoizedState=ie=n:ie=ie.next=n,ie}function ze(){if(ne===null){var n=K.alternate;n=n!==null?n.memoizedState:null}else n=ne.next;var e=ie===null?K.memoizedState:ie.next;if(e!==null)ie=e,ne=n;else{if(n===null)throw Error(P(310));ne=n,n={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?K.memoizedState=ie=n:ie=ie.next=n}return ie}function Go(n,e){return typeof e=="function"?e(n):e}function Is(n){var e=ze(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=n;var o=ne,r=o.baseQueue,i=t.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((lt&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:n(o,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,l=o):c=c.next=p,K.lanes|=f,at|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,Ze(o,e.memoizedState)||(Ce=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,t.lastRenderedState=o}if(n=t.interleaved,n!==null){r=n;do i=r.lane,K.lanes|=i,at|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ws(n){var e=ze(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=n;var o=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var l=r=r.next;do i=n(i,l.action),l=l.next;while(l!==r);Ze(i,e.memoizedState)||(Ce=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,o]}function Yd(){}function Kd(n,e){var t=K,o=ze(),r=e(),i=!Ze(o.memoizedState,r);if(i&&(o.memoizedState=r,Ce=!0),o=o.queue,Zl(bd.bind(null,t,o,n),[n]),o.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(t.flags|=2048,Ho(9,Xd.bind(null,t,o,r,e),void 0,null),se===null)throw Error(P(349));lt&30||Qd(t,e,r)}return r}function Qd(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Xd(n,e,t,o){e.value=t,e.getSnapshot=o,Zd(e)&&jd(n)}function bd(n,e,t){return t(function(){Zd(e)&&jd(n)})}function Zd(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ze(n,t)}catch{return!0}}function jd(n){var e=yn(n,1);e!==null&&be(e,n,1,-1)}function Tc(n){var e=on();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:n},e.queue=n,n=n.dispatch=jg.bind(null,K,n),[e.memoizedState,n]}function Ho(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function ef(){return ze().memoizedState}function xr(n,e,t,o){var r=on();K.flags|=n,r.memoizedState=Ho(1|e,t,void 0,o===void 0?null:o)}function di(n,e,t,o){var r=ze();o=o===void 0?null:o;var i=void 0;if(ne!==null){var l=ne.memoizedState;if(i=l.destroy,o!==null&&Ql(o,l.deps)){r.memoizedState=Ho(e,t,i,o);return}}K.flags|=n,r.memoizedState=Ho(1|e,t,i,o)}function Cc(n,e){return xr(8390656,8,n,e)}function Zl(n,e){return di(2048,8,n,e)}function nf(n,e){return di(4,2,n,e)}function tf(n,e){return di(4,4,n,e)}function of(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function rf(n,e,t){return t=t!=null?t.concat([n]):null,di(4,4,of.bind(null,e,n),t)}function jl(){}function sf(n,e){var t=ze();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&Ql(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function lf(n,e){var t=ze();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&Ql(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function af(n,e,t){return lt&21?(Ze(t,e)||(t=fd(),K.lanes|=t,at|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ce=!0),n.memoizedState=t)}function bg(n,e){var t=G;G=t!==0&&4>t?t:4,n(!0);var o=Ss.transition;Ss.transition={};try{n(!1),e()}finally{G=t,Ss.transition=o}}function uf(){return ze().memoizedState}function Zg(n,e,t){var o=qn(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},cf(n))df(e,t);else if(t=$d(n,e,t,o),t!==null){var r=_e();be(t,n,o,r),ff(t,e,o)}}function jg(n,e,t){var o=qn(n),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(cf(n))df(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,t);if(r.hasEagerState=!0,r.eagerState=u,Ze(u,l)){var c=e.interleaved;c===null?(r.next=r,$l(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=$d(n,e,r,o),t!==null&&(r=_e(),be(t,n,o,r),ff(t,e,o))}}function cf(n){var e=n.alternate;return n===K||e!==null&&e===K}function df(n,e){To=Zr=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ff(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,xl(n,t)}}var jr={readContext:Be,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},ey={readContext:Be,useCallback:function(n,e){return on().memoizedState=[n,e===void 0?null:e],n},useContext:Be,useEffect:Cc,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,xr(4194308,4,of.bind(null,e,n),t)},useLayoutEffect:function(n,e){return xr(4194308,4,n,e)},useInsertionEffect:function(n,e){return xr(4,2,n,e)},useMemo:function(n,e){var t=on();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=on();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=Zg.bind(null,K,n),[o.memoizedState,n]},useRef:function(n){var e=on();return n={current:n},e.memoizedState=n},useState:Tc,useDebugValue:jl,useDeferredValue:function(n){return on().memoizedState=n},useTransition:function(){var n=Tc(!1),e=n[0];return n=bg.bind(null,n[1]),on().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=K,r=on();if(O){if(t===void 0)throw Error(P(407));t=t()}else{if(t=e(),se===null)throw Error(P(349));lt&30||Qd(o,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,Cc(bd.bind(null,o,i,n),[n]),o.flags|=2048,Ho(9,Xd.bind(null,o,i,t,e),void 0,null),t},useId:function(){var n=on(),e=se.identifierPrefix;if(O){var t=pn,o=fn;t=(o&~(1<<32-Xe(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=qo++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Xg++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ny={readContext:Be,useCallback:sf,useContext:Be,useEffect:Zl,useImperativeHandle:rf,useInsertionEffect:nf,useLayoutEffect:tf,useMemo:lf,useReducer:Is,useRef:ef,useState:function(){return Is(Go)},useDebugValue:jl,useDeferredValue:function(n){var e=ze();return af(e,ne.memoizedState,n)},useTransition:function(){var n=Is(Go)[0],e=ze().memoizedState;return[n,e]},useMutableSource:Yd,useSyncExternalStore:Kd,useId:uf,unstable_isNewReconciler:!1},ty={readContext:Be,useCallback:sf,useContext:Be,useEffect:Zl,useImperativeHandle:rf,useInsertionEffect:nf,useLayoutEffect:tf,useMemo:lf,useReducer:ws,useRef:ef,useState:function(){return ws(Go)},useDebugValue:jl,useDeferredValue:function(n){var e=ze();return ne===null?e.memoizedState=n:af(e,ne.memoizedState,n)},useTransition:function(){var n=ws(Go)[0],e=ze().memoizedState;return[n,e]},useMutableSource:Yd,useSyncExternalStore:Kd,useId:uf,unstable_isNewReconciler:!1};function Ye(n,e){if(n&&n.defaultProps){e=Q({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function sl(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:Q({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var fi={isMounted:function(n){return(n=n._reactInternals)?dt(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=_e(),r=qn(n),i=mn(o,r);i.payload=e,t!=null&&(i.callback=t),e=Fn(n,i,r),e!==null&&(be(e,n,r,o),Nr(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=_e(),r=qn(n),i=mn(o,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Fn(n,i,r),e!==null&&(be(e,n,r,o),Nr(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=_e(),o=qn(n),r=mn(t,o);r.tag=2,e!=null&&(r.callback=e),e=Fn(n,r,o),e!==null&&(be(e,n,o,t),Nr(e,n,o))}};function Sc(n,e,t,o,r,i,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!Mo(t,o)||!Mo(r,i):!0}function pf(n,e,t){var o=!1,r=Bn,i=e.contextType;return typeof i=="object"&&i!==null?i=Be(i):(r=Ie(e)?it:me.current,o=e.contextTypes,i=(o=o!=null)?Ft(n,r):Bn),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fi,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function Ic(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&fi.enqueueReplaceState(e,e.state,null)}function ll(n,e,t,o){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Wl(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Be(i):(i=Ie(e)?it:me.current,r.context=Ft(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sl(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&fi.enqueueReplaceState(r,r.state,null),Xr(n,t,r,o),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Ht(n,e){try{var t="",o=e;do t+=Mh(o),o=o.return;while(o);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function As(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function al(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function mf(n,e,t){t=mn(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){ni||(ni=!0,vl=o),al(n,e)},t}function hf(n,e,t){t=mn(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;t.payload=function(){return o(r)},t.callback=function(){al(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){al(n,e),typeof o!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}function wc(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new oy;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(t)||(r.add(t),n=yy.bind(null,n,e,t),e.then(n,n))}function Ac(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Pc(n,e,t,o,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=mn(-1,1),e.tag=2,Fn(t,e,1))),t.lanes|=1),n)}var ry=_n.ReactCurrentOwner,Ce=!1;function ve(n,e,t,o){e.child=n===null?Jd(e,null,t,o):qt(e,n.child,t,o)}function Nc(n,e,t,o,r){t=t.render;var i=e.ref;return Dt(e,r),o=Xl(n,e,t,o,i,r),t=bl(),n!==null&&!Ce?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,vn(n,e,r)):(O&&t&&ql(e),e.flags|=1,ve(n,e,o,r),e.child)}function Rc(n,e,t,o,r){if(n===null){var i=t.type;return typeof i=="function"&&!la(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,gf(n,e,i,o,r)):(n=Lr(t.type,null,o,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var l=i.memoizedProps;if(t=t.compare,t=t!==null?t:Mo,t(l,o)&&n.ref===e.ref)return vn(n,e,r)}return e.flags|=1,n=Gn(i,o),n.ref=e.ref,n.return=e,e.child=n}function gf(n,e,t,o,r){if(n!==null){var i=n.memoizedProps;if(Mo(i,o)&&n.ref===e.ref)if(Ce=!1,e.pendingProps=o=i,(n.lanes&r)!==0)n.flags&131072&&(Ce=!0);else return e.lanes=n.lanes,vn(n,e,r)}return ul(n,e,t,o,r)}function yf(n,e,t){var o=e.pendingProps,r=o.children,i=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(Nt,Pe),Pe|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,z(Nt,Pe),Pe|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:t,z(Nt,Pe),Pe|=o}else i!==null?(o=i.baseLanes|t,e.memoizedState=null):o=t,z(Nt,Pe),Pe|=o;return ve(n,e,r,t),e.child}function vf(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function ul(n,e,t,o,r){var i=Ie(t)?it:me.current;return i=Ft(e,i),Dt(e,r),t=Xl(n,e,t,o,i,r),o=bl(),n!==null&&!Ce?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,vn(n,e,r)):(O&&o&&ql(e),e.flags|=1,ve(n,e,t,r),e.child)}function xc(n,e,t,o,r){if(Ie(t)){var i=!0;Wr(e)}else i=!1;if(Dt(e,r),e.stateNode===null)kr(n,e),pf(e,t,o),ll(e,t,o,r),o=!0;else if(n===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=t.contextType;typeof d=="object"&&d!==null?d=Be(d):(d=Ie(t)?it:me.current,d=Ft(e,d));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&Ic(e,l,o,d),Pn=!1;var m=e.memoizedState;l.state=m,Xr(e,o,l,r),c=e.memoizedState,u!==o||m!==c||Se.current||Pn?(typeof f=="function"&&(sl(e,t,f,o),c=e.memoizedState),(u=Pn||Sc(e,t,u,o,m,c,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,Wd(n,e),u=e.memoizedProps,d=e.type===e.elementType?u:Ye(e.type,u),l.props=d,p=e.pendingProps,m=l.context,c=t.contextType,typeof c=="object"&&c!==null?c=Be(c):(c=Ie(t)?it:me.current,c=Ft(e,c));var g=t.getDerivedStateFromProps;(f=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==c)&&Ic(e,l,o,c),Pn=!1,m=e.memoizedState,l.state=m,Xr(e,o,l,r);var _=e.memoizedState;u!==p||m!==_||Se.current||Pn?(typeof g=="function"&&(sl(e,t,g,o),_=e.memoizedState),(d=Pn||Sc(e,t,d,o,m,_,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,_,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,_,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=_),l.props=o,l.state=_,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),o=!1)}return cl(n,e,t,o,i,r)}function cl(n,e,t,o,r,i){vf(n,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&hc(e,t,!1),vn(n,e,i);o=e.stateNode,ry.current=e;var u=l&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&l?(e.child=qt(e,n.child,null,i),e.child=qt(e,null,u,i)):ve(n,e,u,i),e.memoizedState=o.state,r&&hc(e,t,!0),e.child}function _f(n){var e=n.stateNode;e.pendingContext?mc(n,e.pendingContext,e.pendingContext!==e.context):e.context&&mc(n,e.context,!1),Ol(n,e.containerInfo)}function kc(n,e,t,o,r){return Vt(),Hl(r),e.flags|=256,ve(n,e,t,o),e.child}var dl={dehydrated:null,treeContext:null,retryLane:0};function fl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ef(n,e,t){var o=e.pendingProps,r=Y.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=n!==null&&n.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),z(Y,r&1),n===null)return rl(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,n=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=hi(l,o,0,null),n=rt(n,o,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=fl(t),e.memoizedState=dl,n):ea(e,l));if(r=n.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return iy(n,e,l,o,u,r,t);if(i){i=o.fallback,l=e.mode,r=n.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Gn(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Gn(u,i):(i=rt(i,l,t,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=n.child.memoizedState,l=l===null?fl(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=n.childLanes&~t,e.memoizedState=dl,o}return i=n.child,n=i.sibling,o=Gn(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function ea(n,e){return e=hi({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Cr(n,e,t,o){return o!==null&&Hl(o),qt(e,n.child,null,t),n=ea(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function iy(n,e,t,o,r,i,l){if(t)return e.flags&256?(e.flags&=-257,o=As(Error(P(422))),Cr(n,e,l,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=hi({mode:"visible",children:o.children},r,0,null),i=rt(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&qt(e,n.child,null,l),e.child.memoizedState=fl(l),e.memoizedState=dl,i);if(!(e.mode&1))return Cr(n,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(P(419)),o=As(i,o,void 0),Cr(n,e,l,o)}if(u=(l&n.childLanes)!==0,Ce||u){if(o=se,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,yn(n,r),be(o,n,r,-1))}return sa(),o=As(Error(P(421))),Cr(n,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=vy.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,Ne=Un(r.nextSibling),Re=e,O=!0,Qe=null,n!==null&&(Ve[qe++]=fn,Ve[qe++]=pn,Ve[qe++]=st,fn=n.id,pn=n.overflow,st=e),e=ea(e,o.children),e.flags|=4096,e)}function Mc(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),il(n.return,e,t)}function Ps(n,e,t,o,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=t,i.tailMode=r)}function Tf(n,e,t){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(ve(n,e,o.children,t),o=Y.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Mc(n,t,e);else if(n.tag===19)Mc(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(z(Y,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&br(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ps(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&br(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ps(e,!0,t,null,i);break;case"together":Ps(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kr(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function vn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),at|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(P(153));if(e.child!==null){for(n=e.child,t=Gn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Gn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function sy(n,e,t){switch(e.tag){case 3:_f(e),Vt();break;case 5:Od(e);break;case 1:Ie(e.type)&&Wr(e);break;case 4:Ol(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;z(Kr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(z(Y,Y.current&1),e.flags|=128,null):t&e.child.childLanes?Ef(n,e,t):(z(Y,Y.current&1),n=vn(n,e,t),n!==null?n.sibling:null);z(Y,Y.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return Tf(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),z(Y,Y.current),o)break;return null;case 22:case 23:return e.lanes=0,yf(n,e,t)}return vn(n,e,t)}var Cf,pl,Sf,If;Cf=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};pl=function(){};Sf=function(n,e,t,o){var r=n.memoizedProps;if(r!==o){n=e.stateNode,tt(ln.current);var i=null;switch(t){case"input":r=Us(n,r),o=Us(n,o),i=[];break;case"select":r=Q({},r,{value:void 0}),o=Q({},o,{value:void 0}),i=[];break;case"textarea":r=qs(n,r),o=qs(n,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Jr)}Hs(t,o);var l;t=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r?.[d],o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(t||(t={}),t[l]=c[l])}else t||(i||(i=[]),i.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&J("scroll",n),i||u===c||(i=[])):(i=i||[]).push(d,c))}t&&(i=i||[]).push("style",t);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};If=function(n,e,t,o){t!==o&&(e.flags|=4)};function ao(n,e){if(!O)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function fe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function ly(n,e,t){var o=e.pendingProps;switch(Gl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return Ie(e.type)&&$r(),fe(e),null;case 3:return o=e.stateNode,Gt(),$(Se),$(me),Kl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Er(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Tl(Qe),Qe=null))),pl(n,e),fe(e),null;case 5:Yl(e);var r=tt(Vo.current);if(t=e.type,n!==null&&e.stateNode!=null)Sf(n,e,t,o,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(P(166));return fe(e),null}if(n=tt(ln.current),Er(e)){o=e.stateNode,t=e.type;var i=e.memoizedProps;switch(o[rn]=e,o[Uo]=i,n=(e.mode&1)!==0,t){case"dialog":J("cancel",o),J("close",o);break;case"iframe":case"object":case"embed":J("load",o);break;case"video":case"audio":for(r=0;r<ho.length;r++)J(ho[r],o);break;case"source":J("error",o);break;case"img":case"image":case"link":J("error",o),J("load",o);break;case"details":J("toggle",o);break;case"input":Hu(o,i),J("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},J("invalid",o);break;case"textarea":zu(o,i),J("invalid",o)}Hs(t,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&_r(o.textContent,u,n),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&_r(o.textContent,u,n),r=["children",""+u]):wo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&J("scroll",o)}switch(t){case"input":lr(o),Bu(o,i,!0);break;case"textarea":lr(o),Ju(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Jr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=bc(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=l.createElement(t,{is:o.is}):(n=l.createElement(t),t==="select"&&(l=n,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):n=l.createElementNS(n,t),n[rn]=e,n[Uo]=o,Cf(n,e,!1,!1),e.stateNode=n;e:{switch(l=Bs(t,o),t){case"dialog":J("cancel",n),J("close",n),r=o;break;case"iframe":case"object":case"embed":J("load",n),r=o;break;case"video":case"audio":for(r=0;r<ho.length;r++)J(ho[r],n);r=o;break;case"source":J("error",n),r=o;break;case"img":case"image":case"link":J("error",n),J("load",n),r=o;break;case"details":J("toggle",n),r=o;break;case"input":Hu(n,o),r=Us(n,o),J("invalid",n);break;case"option":r=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=Q({},o,{value:void 0}),J("invalid",n);break;case"textarea":zu(n,o),r=qs(n,o),J("invalid",n);break;default:r=o}Hs(t,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?ed(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zc(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Ao(n,c):typeof c=="number"&&Ao(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&J("scroll",n):c!=null&&Il(n,i,c,l))}switch(t){case"input":lr(n),Bu(n,o,!1);break;case"textarea":lr(n),Ju(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Hn(o.value));break;case"select":n.multiple=!!o.multiple,i=o.value,i!=null?Rt(n,!!o.multiple,i,!1):o.defaultValue!=null&&Rt(n,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Jr)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(n&&e.stateNode!=null)If(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(P(166));if(t=tt(Vo.current),tt(ln.current),Er(e)){if(o=e.stateNode,t=e.memoizedProps,o[rn]=e,(i=o.nodeValue!==t)&&(n=Re,n!==null))switch(n.tag){case 3:_r(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&_r(o.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[rn]=e,e.stateNode=o}return fe(e),null;case 13:if($(Y),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(O&&Ne!==null&&e.mode&1&&!(e.flags&128))Bd(),Vt(),e.flags|=98560,i=!1;else if(i=Er(e),o!==null&&o.dehydrated!==null){if(n===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[rn]=e}else Vt(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else Qe!==null&&(Tl(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||Y.current&1?te===0&&(te=3):sa())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Gt(),pl(n,e),n===null&&Do(e.stateNode.containerInfo),fe(e),null;case 10:return Jl(e.type._context),fe(e),null;case 17:return Ie(e.type)&&$r(),fe(e),null;case 19:if($(Y),i=e.memoizedState,i===null)return fe(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)ao(i,!1);else{if(te!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=br(n),l!==null){for(e.flags|=128,ao(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)i=t,n=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,n=l.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return z(Y,Y.current&1|2),e.child}n=n.sibling}i.tail!==null&&j()>Bt&&(e.flags|=128,o=!0,ao(i,!1),e.lanes=4194304)}else{if(!o)if(n=br(l),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!O)return fe(e),null}else 2*j()-i.renderingStartTime>Bt&&t!==1073741824&&(e.flags|=128,o=!0,ao(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=j(),e.sibling=null,t=Y.current,z(Y,o?t&1|2:t&1),e):(fe(e),null);case 22:case 23:return ia(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Pe&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function ay(n,e){switch(Gl(e),e.tag){case 1:return Ie(e.type)&&$r(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Gt(),$(Se),$(me),Kl(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Yl(e),null;case 13:if($(Y),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Vt()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return $(Y),null;case 4:return Gt(),null;case 10:return Jl(e.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var Sr=!1,pe=!1,uy=typeof WeakSet=="function"?WeakSet:Set,k=null;function Pt(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){b(n,e,o)}else t.current=null}function ml(n,e,t){try{t()}catch(o){b(n,e,o)}}var Dc=!1;function cy(n,e){if(bs=Hr,n=Nd(),Vl(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var l=0,u=-1,c=-1,d=0,f=0,p=n,m=null;n:for(;;){for(var g;p!==t||r!==0&&p.nodeType!==3||(u=l+r),p!==i||o!==0&&p.nodeType!==3||(c=l+o),p.nodeType===3&&(l+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===n)break n;if(m===t&&++d===r&&(u=l),m===i&&++f===o&&(c=l),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Zs={focusedElem:n,selectionRange:t},Hr=!1,k=e;k!==null;)if(e=k,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,k=n;else for(;k!==null;){e=k;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,N=_.memoizedState,y=e.stateNode,h=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:Ye(e.type,E),N);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(T){b(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,k=n;break}k=e.return}return _=Dc,Dc=!1,_}function Co(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&ml(e,t,i)}r=r.next}while(r!==o)}}function pi(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function hl(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function wf(n){var e=n.alternate;e!==null&&(n.alternate=null,wf(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[rn],delete e[Uo],delete e[nl],delete e[Og],delete e[Yg])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Af(n){return n.tag===5||n.tag===3||n.tag===4}function Lc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Af(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gl(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Jr));else if(o!==4&&(n=n.child,n!==null))for(gl(n,e,t),n=n.sibling;n!==null;)gl(n,e,t),n=n.sibling}function yl(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(yl(n,e,t),n=n.sibling;n!==null;)yl(n,e,t),n=n.sibling}var le=null,Ke=!1;function wn(n,e,t){for(t=t.child;t!==null;)Pf(n,e,t),t=t.sibling}function Pf(n,e,t){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ii,t)}catch{}switch(t.tag){case 5:pe||Pt(t,e);case 6:var o=le,r=Ke;le=null,wn(n,e,t),le=o,Ke=r,le!==null&&(Ke?(n=le,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):le.removeChild(t.stateNode));break;case 18:le!==null&&(Ke?(n=le,t=t.stateNode,n.nodeType===8?Es(n.parentNode,t):n.nodeType===1&&Es(n,t),xo(n)):Es(le,t.stateNode));break;case 4:o=le,r=Ke,le=t.stateNode.containerInfo,Ke=!0,wn(n,e,t),le=o,Ke=r;break;case 0:case 11:case 14:case 15:if(!pe&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ml(t,e,l),r=r.next}while(r!==o)}wn(n,e,t);break;case 1:if(!pe&&(Pt(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){b(t,e,u)}wn(n,e,t);break;case 21:wn(n,e,t);break;case 22:t.mode&1?(pe=(o=pe)||t.memoizedState!==null,wn(n,e,t),pe=o):wn(n,e,t);break;default:wn(n,e,t)}}function Uc(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new uy),e.forEach(function(o){var r=_y.bind(null,n,o);t.has(o)||(t.add(o),o.then(r,r))})}}function Oe(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];try{var i=n,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:le=u.stateNode,Ke=!1;break e;case 3:le=u.stateNode.containerInfo,Ke=!0;break e;case 4:le=u.stateNode.containerInfo,Ke=!0;break e}u=u.return}if(le===null)throw Error(P(160));Pf(i,l,r),le=null,Ke=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){b(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nf(e,n),e=e.sibling}function Nf(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Oe(e,n),tn(n),o&4){try{Co(3,n,n.return),pi(3,n)}catch(E){b(n,n.return,E)}try{Co(5,n,n.return)}catch(E){b(n,n.return,E)}}break;case 1:Oe(e,n),tn(n),o&512&&t!==null&&Pt(t,t.return);break;case 5:if(Oe(e,n),tn(n),o&512&&t!==null&&Pt(t,t.return),n.flags&32){var r=n.stateNode;try{Ao(r,"")}catch(E){b(n,n.return,E)}}if(o&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,l=t!==null?t.memoizedProps:i,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Qc(r,i),Bs(u,l);var d=Bs(u,i);for(l=0;l<c.length;l+=2){var f=c[l],p=c[l+1];f==="style"?ed(r,p):f==="dangerouslySetInnerHTML"?Zc(r,p):f==="children"?Ao(r,p):Il(r,f,p,d)}switch(u){case"input":Fs(r,i);break;case"textarea":Xc(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Rt(r,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Rt(r,!!i.multiple,i.defaultValue,!0):Rt(r,!!i.multiple,i.multiple?[]:"",!1))}r[Uo]=i}catch(E){b(n,n.return,E)}}break;case 6:if(Oe(e,n),tn(n),o&4){if(n.stateNode===null)throw Error(P(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(E){b(n,n.return,E)}}break;case 3:if(Oe(e,n),tn(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{xo(e.containerInfo)}catch(E){b(n,n.return,E)}break;case 4:Oe(e,n),tn(n);break;case 13:Oe(e,n),tn(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(oa=j())),o&4&&Uc(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(pe=(d=pe)||f,Oe(e,n),pe=d):Oe(e,n),tn(n),o&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(k=n,f=n.child;f!==null;){for(p=k=f;k!==null;){switch(m=k,g=m.child,m.tag){case 0:case 11:case 14:case 15:Co(4,m,m.return);break;case 1:Pt(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){o=m,t=m.return;try{e=o,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){b(o,t,E)}}break;case 5:Pt(m,m.return);break;case 22:if(m.memoizedState!==null){Vc(p);continue}}g!==null?(g.return=m,k=g):Vc(p)}f=f.sibling}e:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=jc("display",l))}catch(E){b(n,n.return,E)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(E){b(n,n.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Oe(e,n),tn(n),o&4&&Uc(n);break;case 21:break;default:Oe(e,n),tn(n)}}function tn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Af(t)){var o=t;break e}t=t.return}throw Error(P(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Ao(r,""),o.flags&=-33);var i=Lc(n);yl(n,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Lc(n);gl(n,u,l);break;default:throw Error(P(161))}}catch(c){b(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function dy(n,e,t){k=n,Rf(n,e,t)}function Rf(n,e,t){for(var o=(n.mode&1)!==0;k!==null;){var r=k,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||Sr;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||pe;u=Sr;var d=pe;if(Sr=l,(pe=c)&&!d)for(k=r;k!==null;)l=k,c=l.child,l.tag===22&&l.memoizedState!==null?qc(r):c!==null?(c.return=l,k=c):qc(r);for(;i!==null;)k=i,Rf(i,e,t),i=i.sibling;k=r,Sr=u,pe=d}Fc(n,e,t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,k=i):Fc(n,e,t)}}function Fc(n){for(;k!==null;){var e=k;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||pi(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!pe)if(t===null)o.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ye(e.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ec(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Ec(e,l,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&xo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}pe||e.flags&512&&hl(e)}catch(m){b(e,e.return,m)}}if(e===n){k=null;break}if(t=e.sibling,t!==null){t.return=e.return,k=t;break}k=e.return}}function Vc(n){for(;k!==null;){var e=k;if(e===n){k=null;break}var t=e.sibling;if(t!==null){t.return=e.return,k=t;break}k=e.return}}function qc(n){for(;k!==null;){var e=k;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{pi(4,e)}catch(c){b(e,t,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){b(e,r,c)}}var i=e.return;try{hl(e)}catch(c){b(e,i,c)}break;case 5:var l=e.return;try{hl(e)}catch(c){b(e,l,c)}}}catch(c){b(e,e.return,c)}if(e===n){k=null;break}var u=e.sibling;if(u!==null){u.return=e.return,k=u;break}k=e.return}}var fy=Math.ceil,ei=_n.ReactCurrentDispatcher,na=_n.ReactCurrentOwner,He=_n.ReactCurrentBatchConfig,F=0,se=null,ee=null,ae=0,Pe=0,Nt=Jn(0),te=0,Bo=null,at=0,mi=0,ta=0,So=null,Te=null,oa=0,Bt=1/0,cn=null,ni=!1,vl=null,Vn=null,Ir=!1,kn=null,ti=0,Io=0,_l=null,Mr=-1,Dr=0;function _e(){return F&6?j():Mr!==-1?Mr:Mr=j()}function qn(n){return n.mode&1?F&2&&ae!==0?ae&-ae:Qg.transition!==null?(Dr===0&&(Dr=fd()),Dr):(n=G,n!==0||(n=window.event,n=n===void 0?16:_d(n.type)),n):1}function be(n,e,t,o){if(50<Io)throw Io=0,_l=null,Error(P(185));zo(n,t,o),(!(F&2)||n!==se)&&(n===se&&(!(F&2)&&(mi|=t),te===4&&Rn(n,ae)),we(n,o),t===1&&F===0&&!(e.mode&1)&&(Bt=j()+500,ci&&$n()))}function we(n,e){var t=n.callbackNode;bh(n,e);var o=Gr(n,n===se?ae:0);if(o===0)t!==null&&Ou(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&Ou(t),e===1)n.tag===0?Kg(Gc.bind(null,n)):qd(Gc.bind(null,n)),$g(function(){!(F&6)&&$n()}),t=null;else{switch(pd(o)){case 1:t=Rl;break;case 4:t=cd;break;case 16:t=qr;break;case 536870912:t=dd;break;default:t=qr}t=Vf(t,xf.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function xf(n,e){if(Mr=-1,Dr=0,F&6)throw Error(P(327));var t=n.callbackNode;if(Lt()&&n.callbackNode!==t)return null;var o=Gr(n,n===se?ae:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=oi(n,o);else{e=o;var r=F;F|=2;var i=Mf();(se!==n||ae!==e)&&(cn=null,Bt=j()+500,ot(n,e));do try{hy();break}catch(u){kf(n,u)}while(!0);zl(),ei.current=i,F=r,ee!==null?e=0:(se=null,ae=0,e=te)}if(e!==0){if(e===2&&(r=Os(n),r!==0&&(o=r,e=El(n,r))),e===1)throw t=Bo,ot(n,0),Rn(n,o),we(n,j()),t;if(e===6)Rn(n,o);else{if(r=n.current.alternate,!(o&30)&&!py(r)&&(e=oi(n,o),e===2&&(i=Os(n),i!==0&&(o=i,e=El(n,i))),e===1))throw t=Bo,ot(n,0),Rn(n,o),we(n,j()),t;switch(n.finishedWork=r,n.finishedLanes=o,e){case 0:case 1:throw Error(P(345));case 2:jn(n,Te,cn);break;case 3:if(Rn(n,o),(o&130023424)===o&&(e=oa+500-j(),10<e)){if(Gr(n,0)!==0)break;if(r=n.suspendedLanes,(r&o)!==o){_e(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=el(jn.bind(null,n,Te,cn),e);break}jn(n,Te,cn);break;case 4:if(Rn(n,o),(o&4194240)===o)break;for(e=n.eventTimes,r=-1;0<o;){var l=31-Xe(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=j()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*fy(o/1960))-o,10<o){n.timeoutHandle=el(jn.bind(null,n,Te,cn),o);break}jn(n,Te,cn);break;case 5:jn(n,Te,cn);break;default:throw Error(P(329))}}}return we(n,j()),n.callbackNode===t?xf.bind(null,n):null}function El(n,e){var t=So;return n.current.memoizedState.isDehydrated&&(ot(n,e).flags|=256),n=oi(n,e),n!==2&&(e=Te,Te=t,e!==null&&Tl(e)),n}function Tl(n){Te===null?Te=n:Te.push.apply(Te,n)}function py(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var r=t[o],i=r.getSnapshot;r=r.value;try{if(!Ze(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(n,e){for(e&=~ta,e&=~mi,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Xe(e),o=1<<t;n[t]=-1,e&=~o}}function Gc(n){if(F&6)throw Error(P(327));Lt();var e=Gr(n,0);if(!(e&1))return we(n,j()),null;var t=oi(n,e);if(n.tag!==0&&t===2){var o=Os(n);o!==0&&(e=o,t=El(n,o))}if(t===1)throw t=Bo,ot(n,0),Rn(n,e),we(n,j()),t;if(t===6)throw Error(P(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,jn(n,Te,cn),we(n,j()),null}function ra(n,e){var t=F;F|=1;try{return n(e)}finally{F=t,F===0&&(Bt=j()+500,ci&&$n())}}function ut(n){kn!==null&&kn.tag===0&&!(F&6)&&Lt();var e=F;F|=1;var t=He.transition,o=G;try{if(He.transition=null,G=1,n)return n()}finally{G=o,He.transition=t,F=e,!(F&6)&&$n()}}function ia(){Pe=Nt.current,$(Nt)}function ot(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Jg(t)),ee!==null)for(t=ee.return;t!==null;){var o=t;switch(Gl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$r();break;case 3:Gt(),$(Se),$(me),Kl();break;case 5:Yl(o);break;case 4:Gt();break;case 13:$(Y);break;case 19:$(Y);break;case 10:Jl(o.type._context);break;case 22:case 23:ia()}t=t.return}if(se=n,ee=n=Gn(n.current,null),ae=Pe=e,te=0,Bo=null,ta=mi=at=0,Te=So=null,nt!==null){for(e=0;e<nt.length;e++)if(t=nt[e],o=t.interleaved,o!==null){t.interleaved=null;var r=o.next,i=t.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}t.pending=o}nt=null}return n}function kf(n,e){do{var t=ee;try{if(zl(),Rr.current=jr,Zr){for(var o=K.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Zr=!1}if(lt=0,ie=ne=K=null,To=!1,qo=0,na.current=null,t===null||t.return===null){te=1,Bo=e,ee=null;break}e:{var i=n,l=t.return,u=t,c=e;if(e=ae,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Ac(l);if(g!==null){g.flags&=-257,Pc(g,l,u,i,e),g.mode&1&&wc(i,d,e),e=g,c=d;var _=e.updateQueue;if(_===null){var E=new Set;E.add(c),e.updateQueue=E}else _.add(c);break e}else{if(!(e&1)){wc(i,d,e),sa();break e}c=Error(P(426))}}else if(O&&u.mode&1){var N=Ac(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Pc(N,l,u,i,e),Hl(Ht(c,u));break e}}i=c=Ht(c,u),te!==4&&(te=2),So===null?So=[i]:So.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=mf(i,c,e);_c(i,y);break e;case 1:u=c;var h=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vn===null||!Vn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=hf(i,u,e);_c(i,T);break e}}i=i.return}while(i!==null)}Lf(t)}catch(C){e=C,ee===t&&t!==null&&(ee=t=t.return);continue}break}while(!0)}function Mf(){var n=ei.current;return ei.current=jr,n===null?jr:n}function sa(){(te===0||te===3||te===2)&&(te=4),se===null||!(at&268435455)&&!(mi&268435455)||Rn(se,ae)}function oi(n,e){var t=F;F|=2;var o=Mf();(se!==n||ae!==e)&&(cn=null,ot(n,e));do try{my();break}catch(r){kf(n,r)}while(!0);if(zl(),F=t,ei.current=o,ee!==null)throw Error(P(261));return se=null,ae=0,te}function my(){for(;ee!==null;)Df(ee)}function hy(){for(;ee!==null&&!zh();)Df(ee)}function Df(n){var e=Ff(n.alternate,n,Pe);n.memoizedProps=n.pendingProps,e===null?Lf(n):ee=e,na.current=null}function Lf(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ay(t,e),t!==null){t.flags&=32767,ee=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{te=6,ee=null;return}}else if(t=ly(t,e,Pe),t!==null){ee=t;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=n}while(e!==null);te===0&&(te=5)}function jn(n,e,t){var o=G,r=He.transition;try{He.transition=null,G=1,gy(n,e,t,o)}finally{He.transition=r,G=o}return null}function gy(n,e,t,o){do Lt();while(kn!==null);if(F&6)throw Error(P(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(P(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(Zh(n,i),n===se&&(ee=se=null,ae=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ir||(Ir=!0,Vf(qr,function(){return Lt(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=He.transition,He.transition=null;var l=G;G=1;var u=F;F|=4,na.current=null,cy(n,t),Nf(t,n),qg(Zs),Hr=!!bs,Zs=bs=null,n.current=t,dy(t,n,r),Jh(),F=u,G=l,He.transition=i}else n.current=t;if(Ir&&(Ir=!1,kn=n,ti=r),i=n.pendingLanes,i===0&&(Vn=null),Oh(t.stateNode,o),we(n,j()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(ni)throw ni=!1,n=vl,vl=null,n;return ti&1&&n.tag!==0&&Lt(),i=n.pendingLanes,i&1?n===_l?Io++:(Io=0,_l=n):Io=0,$n(),null}function Lt(){if(kn!==null){var n=pd(ti),e=He.transition,t=G;try{if(He.transition=null,G=16>n?16:n,kn===null)var o=!1;else{if(n=kn,kn=null,ti=0,F&6)throw Error(P(331));var r=F;for(F|=4,k=n.current;k!==null;){var i=k,l=i.child;if(k.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(k=d;k!==null;){var f=k;switch(f.tag){case 0:case 11:case 15:Co(8,f,i)}var p=f.child;if(p!==null)p.return=f,k=p;else for(;k!==null;){f=k;var m=f.sibling,g=f.return;if(wf(f),f===d){k=null;break}if(m!==null){m.return=g,k=m;break}k=g}}}var _=i.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var N=E.sibling;E.sibling=null,E=N}while(E!==null)}}k=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,k=l;else e:for(;k!==null;){if(i=k,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,k=y;break e}k=i.return}}var h=n.current;for(k=h;k!==null;){l=k;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,k=v;else e:for(l=h;k!==null;){if(u=k,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:pi(9,u)}}catch(C){b(u,u.return,C)}if(u===l){k=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,k=T;break e}k=u.return}}if(F=r,$n(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ii,n)}catch{}o=!0}return o}finally{G=t,He.transition=e}}return!1}function Hc(n,e,t){e=Ht(t,e),e=mf(n,e,1),n=Fn(n,e,1),e=_e(),n!==null&&(zo(n,1,e),we(n,e))}function b(n,e,t){if(n.tag===3)Hc(n,n,t);else for(;e!==null;){if(e.tag===3){Hc(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vn===null||!Vn.has(o))){n=Ht(t,n),n=hf(e,n,1),e=Fn(e,n,1),n=_e(),e!==null&&(zo(e,1,n),we(e,n));break}}e=e.return}}function yy(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=_e(),n.pingedLanes|=n.suspendedLanes&t,se===n&&(ae&t)===t&&(te===4||te===3&&(ae&130023424)===ae&&500>j()-oa?ot(n,0):ta|=t),we(n,e)}function Uf(n,e){e===0&&(n.mode&1?(e=cr,cr<<=1,!(cr&130023424)&&(cr=4194304)):e=1);var t=_e();n=yn(n,e),n!==null&&(zo(n,e,t),we(n,t))}function vy(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Uf(n,t)}function _y(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(P(314))}o!==null&&o.delete(e),Uf(n,t)}var Ff;Ff=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Se.current)Ce=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ce=!1,sy(n,e,t);Ce=!!(n.flags&131072)}else Ce=!1,O&&e.flags&1048576&&Gd(e,Yr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;kr(n,e),n=e.pendingProps;var r=Ft(e,me.current);Dt(e,t),r=Xl(null,e,o,n,r,t);var i=bl();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(o)?(i=!0,Wr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Wl(e),r.updater=fi,e.stateNode=r,r._reactInternals=e,ll(e,o,n,t),e=cl(null,e,o,!0,i,t)):(e.tag=0,O&&i&&ql(e),ve(null,e,r,t),e=e.child),e;case 16:o=e.elementType;e:{switch(kr(n,e),n=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Ty(o),n=Ye(o,n),r){case 0:e=ul(null,e,o,n,t);break e;case 1:e=xc(null,e,o,n,t);break e;case 11:e=Nc(null,e,o,n,t);break e;case 14:e=Rc(null,e,o,Ye(o.type,n),t);break e}throw Error(P(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),ul(n,e,o,r,t);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),xc(n,e,o,r,t);case 3:e:{if(_f(e),n===null)throw Error(P(387));o=e.pendingProps,i=e.memoizedState,r=i.element,Wd(n,e),Xr(e,o,null,t);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Ht(Error(P(423)),e),e=kc(n,e,o,t,r);break e}else if(o!==r){r=Ht(Error(P(424)),e),e=kc(n,e,o,t,r);break e}else for(Ne=Un(e.stateNode.containerInfo.firstChild),Re=e,O=!0,Qe=null,t=Jd(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Vt(),o===r){e=vn(n,e,t);break e}ve(n,e,o,t)}e=e.child}return e;case 5:return Od(e),n===null&&rl(e),o=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,l=r.children,js(o,r)?l=null:i!==null&&js(o,i)&&(e.flags|=32),vf(n,e),ve(n,e,l,t),e.child;case 6:return n===null&&rl(e),null;case 13:return Ef(n,e,t);case 4:return Ol(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=qt(e,null,o,t):ve(n,e,o,t),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),Nc(n,e,o,r,t);case 7:return ve(n,e,e.pendingProps,t),e.child;case 8:return ve(n,e,e.pendingProps.children,t),e.child;case 12:return ve(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,z(Kr,o._currentValue),o._currentValue=l,i!==null)if(Ze(i.value,l)){if(i.children===r.children&&!Se.current){e=vn(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=mn(-1,t&-t),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),il(i.return,t,e),u.lanes|=t;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=t,u=l.alternate,u!==null&&(u.lanes|=t),il(l,t,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ve(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Dt(e,t),r=Be(r),o=o(r),e.flags|=1,ve(n,e,o,t),e.child;case 14:return o=e.type,r=Ye(o,e.pendingProps),r=Ye(o.type,r),Rc(n,e,o,r,t);case 15:return gf(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),kr(n,e),e.tag=1,Ie(o)?(n=!0,Wr(e)):n=!1,Dt(e,t),pf(e,o,r),ll(e,o,r,t),cl(null,e,o,!0,n,t);case 19:return Tf(n,e,t);case 22:return yf(n,e,t)}throw Error(P(156,e.tag))};function Vf(n,e){return ud(n,e)}function Ey(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(n,e,t,o){return new Ey(n,e,t,o)}function la(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ty(n){if(typeof n=="function")return la(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Al)return 11;if(n===Pl)return 14}return 2}function Gn(n,e){var t=n.alternate;return t===null?(t=Ge(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Lr(n,e,t,o,r,i){var l=2;if(o=n,typeof n=="function")la(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case vt:return rt(t.children,r,i,e);case wl:l=8,r|=8;break;case ks:return n=Ge(12,t,e,r|2),n.elementType=ks,n.lanes=i,n;case Ms:return n=Ge(13,t,e,r),n.elementType=Ms,n.lanes=i,n;case Ds:return n=Ge(19,t,e,r),n.elementType=Ds,n.lanes=i,n;case Oc:return hi(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $c:l=10;break e;case Wc:l=9;break e;case Al:l=11;break e;case Pl:l=14;break e;case An:l=16,o=null;break e}throw Error(P(130,n==null?n:typeof n,""))}return e=Ge(l,t,e,r),e.elementType=n,e.type=o,e.lanes=i,e}function rt(n,e,t,o){return n=Ge(7,n,o,e),n.lanes=t,n}function hi(n,e,t,o){return n=Ge(22,n,o,e),n.elementType=Oc,n.lanes=t,n.stateNode={isHidden:!1},n}function Ns(n,e,t){return n=Ge(6,n,null,e),n.lanes=t,n}function Rs(n,e,t){return e=Ge(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Cy(n,e,t,o,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function aa(n,e,t,o,r,i,l,u,c){return n=new Cy(n,e,t,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(i),n}function Sy(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yt,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function qf(n){if(!n)return Bn;n=n._reactInternals;e:{if(dt(n)!==n||n.tag!==1)throw Error(P(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(n.tag===1){var t=n.type;if(Ie(t))return Vd(n,t,e)}return e}function Gf(n,e,t,o,r,i,l,u,c){return n=aa(t,o,!0,n,r,i,l,u,c),n.context=qf(null),t=n.current,o=_e(),r=qn(t),i=mn(o,r),i.callback=e??null,Fn(t,i,r),n.current.lanes=r,zo(n,r,o),we(n,o),n}function gi(n,e,t,o){var r=e.current,i=_e(),l=qn(r);return t=qf(t),e.context===null?e.context=t:e.pendingContext=t,e=mn(i,l),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=Fn(r,e,l),n!==null&&(be(n,r,l,i),Nr(n,r,l)),l}function ri(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Bc(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ua(n,e){Bc(n,e),(n=n.alternate)&&Bc(n,e)}function Iy(){return null}var Hf=typeof reportError=="function"?reportError:function(n){console.error(n)};function ca(n){this._internalRoot=n}yi.prototype.render=ca.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(P(409));gi(n,e,null,null)};yi.prototype.unmount=ca.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ut(function(){gi(null,n,null,null)}),e[gn]=null}};function yi(n){this._internalRoot=n}yi.prototype.unstable_scheduleHydration=function(n){if(n){var e=gd();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Nn.length&&e!==0&&e<Nn[t].priority;t++);Nn.splice(t,0,n),t===0&&vd(n)}};function da(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zc(){}function wy(n,e,t,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=ri(l);i.call(d)}}var l=Gf(e,o,n,0,null,!1,!1,"",zc);return n._reactRootContainer=l,n[gn]=l.current,Do(n.nodeType===8?n.parentNode:n),ut(),l}for(;r=n.lastChild;)n.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=ri(c);u.call(d)}}var c=aa(n,0,!1,null,null,!1,!1,"",zc);return n._reactRootContainer=c,n[gn]=c.current,Do(n.nodeType===8?n.parentNode:n),ut(function(){gi(e,c,t,o)}),c}function _i(n,e,t,o,r){var i=t._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=ri(l);u.call(c)}}gi(e,l,n,r)}else l=wy(t,e,n,r,o);return ri(l)}md=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=mo(e.pendingLanes);t!==0&&(xl(e,t|1),we(e,j()),!(F&6)&&(Bt=j()+500,$n()))}break;case 13:ut(function(){var o=yn(n,1);if(o!==null){var r=_e();be(o,n,1,r)}}),ua(n,1)}};kl=function(n){if(n.tag===13){var e=yn(n,134217728);if(e!==null){var t=_e();be(e,n,134217728,t)}ua(n,134217728)}};hd=function(n){if(n.tag===13){var e=qn(n),t=yn(n,e);if(t!==null){var o=_e();be(t,n,e,o)}ua(n,e)}};gd=function(){return G};yd=function(n,e){var t=G;try{return G=n,e()}finally{G=t}};Js=function(n,e,t){switch(e){case"input":if(Fs(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var r=ui(o);if(!r)throw Error(P(90));Kc(o),Fs(o,r)}}}break;case"textarea":Xc(n,t);break;case"select":e=t.value,e!=null&&Rt(n,!!t.multiple,e,!1)}};od=ra;rd=ut;var Ay={usingClientEntryPoint:!1,Events:[$o,Ct,ui,nd,td,ra]},uo={findFiberByHostInstance:et,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Py={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ld(n),n===null?null:n.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||Iy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(co=__REACT_DEVTOOLS_GLOBAL_HOOK__,!co.isDisabled&&co.supportsFiber))try{ii=co.inject(Py),sn=co}catch{}var co;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ay;Me.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(e))throw Error(P(200));return Sy(n,e,null,t)};Me.createRoot=function(n,e){if(!da(n))throw Error(P(299));var t=!1,o="",r=Hf;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=aa(n,1,!1,null,null,t,!1,o,r),n[gn]=e.current,Do(n.nodeType===8?n.parentNode:n),new ca(e)};Me.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(P(188)):(n=Object.keys(n).join(","),Error(P(268,n)));return n=ld(e),n=n===null?null:n.stateNode,n};Me.flushSync=function(n){return ut(n)};Me.hydrate=function(n,e,t){if(!vi(e))throw Error(P(200));return _i(null,n,e,!0,t)};Me.hydrateRoot=function(n,e,t){if(!da(n))throw Error(P(405));var o=t!=null&&t.hydratedSources||null,r=!1,i="",l=Hf;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),e=Gf(e,null,n,1,t??null,r,!1,i,l),n[gn]=e.current,Do(n),o)for(n=0;n<o.length;n++)t=o[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new yi(e)};Me.render=function(n,e,t){if(!vi(e))throw Error(P(200));return _i(null,n,e,!1,t)};Me.unmountComponentAtNode=function(n){if(!vi(n))throw Error(P(40));return n._reactRootContainer?(ut(function(){_i(null,null,n,!1,function(){n._reactRootContainer=null,n[gn]=null})}),!0):!1};Me.unstable_batchedUpdates=ra;Me.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!vi(t))throw Error(P(200));if(n==null||n._reactInternals===void 0)throw Error(P(38));return _i(n,e,t,!1,o)};Me.version="18.3.1-next-f1338f8080-20240426"});var $f=an((VC,Jf)=>{"use strict";function zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zf)}catch(n){console.error(n)}}zf(),Jf.exports=Bf()});var Of=an(fa=>{"use strict";var Wf=$f();fa.createRoot=Wf.createRoot,fa.hydrateRoot=Wf.hydrateRoot;var qC});var Bm=an(Ji=>{"use strict";var aC=un(),uC=Symbol.for("react.element"),cC=Symbol.for("react.fragment"),dC=Object.prototype.hasOwnProperty,fC=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pC={key:!0,ref:!0,__self:!0,__source:!0};function Hm(n,e,t){var o,r={},i=null,l=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)dC.call(e,o)&&!pC.hasOwnProperty(o)&&(r[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:uC,type:n,key:i,ref:l,props:r,_owner:fC.current}}Ji.Fragment=cC;Ji.jsx=Hm;Ji.jsxs=Hm});var X=an((KC,zm)=>{"use strict";zm.exports=Bm()});var nh=q(un()),th=q(Of());var oe=q(un());var Wn=[{levelNumber:1,title:"Nivel 1: Fundamentos",unlockThreshold:0,availableExercises:["ejercicio1","ejercicio2"]},{levelNumber:2,title:"Nivel 2: Contraste",unlockThreshold:10,availableExercises:["ejercicio1","ejercicio2","ejercicio3"]},{levelNumber:3,title:"Nivel 3: Disparadores",unlockThreshold:25,availableExercises:["ejercicio1","ejercicio2","ejercicio3","ejercicio4","ejercicio5"]},{levelNumber:4,title:"Nivel 4: Aplicaci\xF3n",unlockThreshold:50,availableExercises:["ejercicio1","ejercicio2","ejercicio3","ejercicio4","ejercicio5","ejercicio6"]},{levelNumber:5,title:"Nivel 5: Maestr\xEDa",unlockThreshold:80,availableExercises:["ejercicio1","ejercicio2","ejercicio3","ejercicio4","ejercicio5","ejercicio6","ejercicio7"]}],Oo={ejercicio1:{title:"1. La Forma (Nivel 1): Elegir",description:"Elige la conjugaci\xF3n pura del presente de subjuntivo (incluye irregulares clave).",type:"radio",pool:"formaPura"},ejercicio2:{title:"2. La Forma (Nivel 2): Escribir",description:"Escribe la conjugaci\xF3n pura del presente de subjuntivo. \xA1Cuidado con la ortograf\xEDa!",type:"input",pool:"formaPura"},ejercicio3:{title:"3. El Contraste: Indicativo vs. Subjuntivo",description:"Elige la opci\xF3n correcta. \xBFSe usa Indicativo (certeza) o Subjuntivo (duda, deseo, irrealidad)?",type:"radio",pool:"contraste"},ejercicio4:{title:"4. Disparadores (Nivel 1): Elegir",description:"Identifica la forma correcta (subjuntivo) despu\xE9s de verbos de influencia, deseo o duda.",type:"radio",pool:"disparadores"},ejercicio5:{title:"5. Disparadores (Nivel 2): Escribir",description:"Completa la frase con el presente de subjuntivo del verbo entre par\xE9ntesis.",type:"input",pool:"disparadores"},ejercicio6:{title:"6. Ordenar la Frase",description:"Construye una frase gramaticalmente correcta usando las palabras provistas.",type:"ordering",pool:"ordenarFrase"},ejercicio7:{title:"7. Identificar el Error",description:"Elige la frase que est\xE1 escrita correctamente. \xA1Presta atenci\xF3n al modo verbal!",type:"radio",pool:"identificarError"}};var Ei={ser:["sea","seas","sea","seamos","se\xE1is","sean"],ir:["vaya","vayas","vaya","vayamos","vay\xE1is","vayan"],tener:["tenga","tengas","tenga","tengamos","teng\xE1is","tengan"],hacer:["haga","hagas","haga","hagamos","hag\xE1is","hagan"],dar:["d\xE9","des","d\xE9","demos","deis","den"],saber:["sepa","sepas","sepa","sepamos","sep\xE1is","sepan"],decir:["diga","digas","diga","digamos","dig\xE1is","digan"],estar:["est\xE9","est\xE9s","est\xE9","estemos","est\xE9is","est\xE9n"],poder:["pueda","puedas","pueda","podamos","pod\xE1is","puedan"],pedir:["pida","pidas","pida","pidamos","pid\xE1is","pidan"],dormir:["duerma","duermas","duerma","durmamos","durm\xE1is","duerman"],poner:["ponga","pongas","ponga","pongamos","pong\xE1is","pongan"],conducir:["conduzca","conduzcas","conduzca","conduzcamos","conduzc\xE1is","conduzcan"],o\u00EDr:["oiga","oigas","oiga","oigamos","oig\xE1is","oigan"],ver:["vea","veas","vea","veamos","ve\xE1is","vean"],caber:["quepa","quepas","quepa","quepamos","quep\xE1is","quepan"],jugar:["juegue","juegues","juegue","juguemos","jugu\xE9is","jueguen"],llover:[null,null,"llueva",null,null,null],llegar:["llegue","llegues","llegue","lleguemos","llegu\xE9is","lleguen"],gritar:["grite","grites","grite","gritemos","grit\xE9is","griten"],venir:["venga","vengas","venga","vengamos","veng\xE1is","vengan"],irse:["me vaya","te vayas","se vaya","nos vayamos","os vay\xE1is","se vayan"]},pa={ser:["soy","eres","es","somos","sois","son"],ir:["voy","vas","va","vamos","vais","van"],tener:["tengo","tienes","tiene","tenemos","ten\xE9is","tienen"],hacer:["hago","haces","hace","hacemos","hac\xE9is","hacen"],dar:["doy","das","da","damos","dais","dan"],saber:["s\xE9","sabes","sabe","sabemos","sab\xE9is","saben"],decir:["digo","dices","dice","decimos","dec\xEDs","dicen"],estar:["estoy","est\xE1s","est\xE1","estamos","est\xE1is","est\xE1n"],poder:["puedo","puedes","puede","podemos","pod\xE9is","pueden"],pedir:["pido","pides","pide","pedimos","ped\xEDs","piden"],dormir:["duermo","duermes","duerme","dormimos","dorm\xEDs","duermen"],poner:["pongo","pones","pone","ponemos","pon\xE9is","ponen"],conducir:["conduzco","conduces","conduce","conducimos","conduc\xEDs","conducen"],o\u00EDr:["oigo","oyes","oye","o\xEDmos","o\xEDs","oyen"],ver:["veo","ves","ve","vemos","veis","ven"],caber:["quepo","cabes","cabe","cabemos","cab\xE9is","caben"],jugar:["juego","juegas","juega","jugamos","jug\xE1is","juegan"],llover:[null,null,"llueve",null,null,null],llegar:["llego","llegas","llega","llegamos","lleg\xE1is","llegan"],gritar:["grito","gritas","grita","gritamos","grit\xE1is","gritan"],venir:["vengo","vienes","viene","venimos","ven\xEDs","vienen"],irse:["me voy","te vas","se va","nos vamos","os vais","se van"]},Yf={formaPura:[{verb:"(yo, hablar)",answer:"hable"},{verb:"(t\xFA, comer)",answer:"comas"},{verb:"(\xE9l, vivir)",answer:"viva"},{verb:"(nosotros, tener)",answer:"tengamos"},{verb:"(vosotros, ser)",answer:"se\xE1is"},{verb:"(ustedes, ir)",answer:"vayan"},{verb:"(yo, poder)",answer:"pueda"},{verb:"(t\xFA, pedir)",answer:"pidas"},{verb:"(ella, dormir)",answer:"duerma"},{verb:"(nosotros, saber)",answer:"sepamos"},{verb:"(ellos, poner)",answer:"pongan"},{verb:"(yo, hacer)",answer:"haga"},{verb:"(t\xFA, conducir)",answer:"conduzcas"},{verb:"(nosotros, o\xEDr)",answer:"oigamos"},{verb:"(vosotros, estar)",answer:"est\xE9is"},{verb:"(yo, dar)",answer:"d\xE9"},{verb:"(t\xFA, ver)",answer:"veas"},{verb:"(nosotros, caber)",answer:"quepamos"},{verb:"(ellos, jugar)",answer:"jueguen"}],disparadores:[{sentence:"Quiero que t\xFA (hablar) __________ con el profesor.",verb:"(t\xFA, hablar)",answer:"hables"},{sentence:"Es necesario que ellos (comer) __________ m\xE1s verduras.",verb:"(ellos, comer)",answer:"coman"},{sentence:"Dudo que \xE9l (tener) __________ tiempo libre hoy.",verb:"(\xE9l, tener)",answer:"tenga"},{sentence:"Ojal\xE1 que (nosotros, ser) __________ amigos.",verb:"(nosotros, ser)",answer:"seamos"},{sentence:"Me alegra que (vosotros, estar) __________ aqu\xED.",verb:"(vosotros, estar)",answer:"est\xE9is"},{sentence:"Es posible que (llover) __________ ma\xF1ana.",verb:"(llover)",answer:"llueva"},{sentence:"Te pido que (t\xFA, hacer) __________ la cama.",verb:"(t\xFA, hacer)",answer:"hagas"},{sentence:"No quiero que (vosotros, irse) __________.",verb:"(vosotros, irse)",answer:"os vay\xE1is"},{sentence:"Espero que (ustedes, ir) __________ a la fiesta.",verb:"(ustedes, ir)",answer:"vayan"},{sentence:"Mi madre quiere que (yo, poner) __________ la mesa.",verb:"(yo, poner)",answer:"ponga"},{sentence:"Es rid\xEDculo que (\xE9l, decir) __________ eso.",verb:"(\xE9l, decir)",answer:"diga"},{sentence:"Ojal\xE1 (nosotros, poder) __________ viajar pronto.",verb:"(nosotros, poder)",answer:"podamos"},{sentence:"No es seguro que (el tren, llegar) __________ a tiempo.",verb:"(el tren, llegar)",answer:"llegue"},{sentence:"Te recomiendo que (t\xFA, dormir) __________ m\xE1s.",verb:"(t\xFA, dormir)",answer:"duermas"},{sentence:"Es importante que (nosotros, pedir) __________ ayuda.",verb:"(nosotros, pedir)",answer:"pidamos"}],contraste:[{sentence:"No creo que Juan __________ a la fiesta.",verb:"venir",answer:"venga",other:"viene"},{sentence:"Es evidente que t\xFA __________ la verdad.",verb:"decir",answer:"dices",other:"digas"},{sentence:"Busco un apartamento que __________ piscina.",verb:"tener",answer:"tenga",other:"tiene"},{sentence:"Tengo un apartamento que __________ piscina.",verb:"tener",answer:"tiene",other:"tenga"},{sentence:"Me molesta que la gente __________ en voz alta.",verb:"gritar",answer:"grite",other:"grita"},{sentence:"Pienso que esa pel\xEDcula __________ muy buena.",verb:"ser",answer:"es",other:"sea"},{sentence:"Te llamar\xE9 cuando yo __________ a casa.",verb:"llegar",answer:"llegue",other:"llego"},{sentence:"Siempre me llama cuando yo __________ a casa.",verb:"llegar",answer:"llego",other:"llega"},{sentence:"No es verdad que \xE9l __________ japon\xE9s.",verb:"hablar",answer:"hable",other:"habla"},{sentence:"Es verdad que \xE9l __________ japon\xE9s.",verb:"hablar",answer:"habla",other:"hable"},{sentence:"Mi m\xE9dico me recomienda que yo __________ al gimnasio.",verb:"ir",answer:"vaya",other:"voy"},{sentence:"S\xE9 que t\xFA __________ cansado hoy.",verb:"estar",answer:"est\xE1s",other:"est\xE9s"},{sentence:"Ojal\xE1 __________ buen tiempo ma\xF1ana.",verb:"hacer",answer:"haga",other:"hace"},{sentence:"Quiz\xE1s \xE9l __________ raz\xF3n.",verb:"tener",answer:"tenga",other:"tiene"},{sentence:"Aunque __________ mucho, saldremos a pasear.",verb:"llover",answer:"llueva",other:"llueve"}],ordenarFrase:[{sentence:"Ordena las palabras para formar una frase.",answer:"Espero que vengas a la fiesta.",words:["Espero","que","vengas","a","la","fiesta."]},{sentence:"Ordena las palabras para formar una frase.",answer:"Dudo que \xE9l tenga la respuesta.",words:["Dudo","que","\xE9l","tenga","la","respuesta."]},{sentence:"Ordena las palabras para formar una frase.",answer:"Es importante que estudiemos mucho.",words:["Es","importante","que","estudiemos","mucho."]},{sentence:"Ordena las palabras para formar una frase.",answer:"Ojal\xE1 no llueva ma\xF1ana por la tarde.",words:["Ojal\xE1","no","llueva","ma\xF1ana","por","la","tarde."]},{sentence:"Ordena las palabras para formar una frase.",answer:"Te pido que me ayudes con esto.",words:["Te","pido","que","me","ayudes","con","esto."]}],identificarError:[{sentence:"Elige la frase correcta.",options:["No estoy seguro de que \xE9l es la persona correcta.","No estoy seguro de que \xE9l sea la persona correcta."],answer:"No estoy seguro de que \xE9l sea la persona correcta."},{sentence:"Elige la frase correcta.",options:["Es evidente que la tierra sea redonda.","Es evidente que la tierra es redonda."],answer:"Es evidente que la tierra es redonda."},{sentence:"Elige la frase correcta.",options:["Busco una casa que tiene jard\xEDn.","Busco una casa que tenga jard\xEDn."],answer:"Busco una casa que tenga jard\xEDn."},{sentence:"Elige la frase correcta.",options:["Cuando llegas a casa, ll\xE1mame.","Cuando llegues a casa, ll\xE1mame."],answer:"Cuando llegues a casa, ll\xE1mame."},{sentence:"Elige la frase correcta.",options:["Quiz\xE1s podemos ir al cine esta noche.","Quiz\xE1s podamos ir al cine esta noche."],answer:"Quiz\xE1s podamos ir al cine esta noche."}]};var De=n=>n?n.toLowerCase().trim().normalize("NFD").replace(/[\u0000-\u036f]/g,"").replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s+/g,""):"",ft=n=>{let e=[...n];for(let t=e.length-1;t>0;t--){let o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e},Ny=n=>{let e=n.toLowerCase().trim();return e.includes("yo")?0:e.includes("t\xFA")?1:e.includes("ellos")||e.includes("ellas")||e.includes("ustedes")?5:e.includes("\xE9l")||e.includes("ella")||e.includes("usted")||e==="llover"||e==="tren"||e.includes("el tren")?2:e.includes("nosotros")?3:e.includes("vosotros")?4:2},Qf=(n,e,t)=>{let o=n.slice(0,-2),r=n.slice(-2),i;if(t==="subjuntivo")if(r==="ar")i=["e","es","e","emos","\xE9is","en"];else if(r==="er"||r==="ir")i=["a","as","a","amos","\xE1is","an"];else return null;else if(t==="indicativo")if(r==="ar")i=["o","as","a","amos","\xE1is","an"];else if(r==="er")i=["o","es","e","emos","\xE9is","en"];else if(r==="ir")i=["o","es","e","imos","\xEDs","en"];else return null;else return null;return o+i[e]},Kf=(n,e,t)=>{let o=t==="subjuntivo"?Ei:pa;if(o[n])return o[n][e];let r=n.replace(/se$/,"").trim();return o[r]?o[r][e]:Qf(r,e,t)},Ti=(n,e)=>{let t=e==="subjuntivo"?Ei:pa,o=n.replace(/se$/,"").trim();return t[n]?t[n]:t[o]?t[o]:Array.from({length:6},(r,i)=>Qf(o,i,e))},Xf=(n,e,t)=>{let o=Yf[n];return o?ft([...o]).slice(0,e).map(l=>{let u=l.answer,c={...l,answer:u,cleanedAnswer:De(u)};if(t==="radio"){if(n==="formaPura"||n==="disparadores"){let d=(l.verb||"").match(/\((.*?)\)/);if(!d)return{...l,answer:u,cleanedAnswer:De(u),shuffledOptions:[]};let f=d[1].split(",").map(C=>C.trim()),p=f[f.length-1],m=p.replace(/se$/,"").trim(),g=f.length>1?f.slice(0,f.length-1).join(", "):"\xE9l",_=Ny(g),E=Kf(p,_,"subjuntivo")||l.answer;u=E;let N=new Set;Ti(m,"indicativo").forEach(C=>{C&&N.add(C)}),Ti(m,"subjuntivo").forEach(C=>{C&&N.add(C)});let y=Array.from(N).filter(C=>C&&De(C)!==De(E)),h=Kf(p,_,"indicativo");h&&De(h)!==De(E)&&(y=y.filter(C=>De(C)!==De(h)),y.unshift(h)),n==="disparadores"&&!y.some(C=>De(C)===De(m))&&y.unshift(m),ft(y);let v=y.slice(0,3),T=[...new Set([E,...v])];if(T.length<4){let C=Object.keys(Ei),S=new Set,I=C.filter(A=>A!==m);for(;S.size<20&&I.length>0;){let A=I[Math.floor(Math.random()*I.length)];Ti(A,"subjuntivo").concat(Ti(A,"indicativo")).forEach(D=>{D&&S.add(D)})}let w=ft(Array.from(S));for(let A of w){if(T.length>=4)break;T.some(R=>De(R)===De(A))||T.push(A)}}c.shuffledOptions=ft(T.slice(0,4))}else if(n==="contraste"){let d=l;c.shuffledOptions=ft([d.answer,d.other]),u=d.answer}else if(n==="identificarError"){let d=l;c.shuffledOptions=ft([...d.options]),u=d.answer}}else t==="ordering"&&l.words&&(c.shuffledWords=ft([...l.words]));return c.answer=u,c.cleanedAnswer=De(u),c}):[]};var Ry,xy;function ky(){return{geminiUrl:Ry,vertexUrl:xy}}function My(n,e,t,o){var r,i;if(!n?.baseUrl){let l=ky();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:t:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return n.baseUrl}var je=class{};function x(n,e){let t=/\{([^}]+)\}/g;return n.replace(t,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(n,e,t){for(let i=0;i<e.length-1;i++){let l=e[i];if(l.endsWith("[]")){let u=l.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[u])){let c=n[u];if(Array.isArray(t))for(let d=0;d<c.length;d++){let f=c[d];a(f,e.slice(i+1),t[d])}else for(let d of c)a(d,e.slice(i+1),t)}return}else if(l.endsWith("[0]")){let u=l.slice(0,-3);u in n||(n[u]=[{}]);let c=n[u];a(c[0],e.slice(i+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}let o=e[e.length-1],r=n[o];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function s(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return t;let r=e[o];if(r.endsWith("[]")){let i=r.slice(0,-2);if(i in n){let l=n[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),t)):t}else return t}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return t;throw o}}function Dy(n,e){for(let[t,o]of Object.entries(e)){let r=t.split("."),i=o.split("."),l=new Set,u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){let d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}ma(n,r,i,0,l)}}function ma(n,e,t,o,r){if(o>=e.length||typeof n!="object"||n===null)return;let i=e[o];if(i.endsWith("[]")){let l=i.slice(0,-2),u=n;if(l in u&&Array.isArray(u[l]))for(let c of u[l])ma(c,e,t,o+1,r)}else if(i==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){let l=n,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(let d of u)c[d]=l[d];for(let[d,f]of Object.entries(c)){let p=[];for(let m of t.slice(o))m==="*"?p.push(d):p.push(m);a(l,p,f)}for(let d of u)delete l[d]}}else{let l=n;i in l&&ma(l[i],e,t,o+1,r)}}function iu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function Ly(n){let e={},t=s(n,["operationName"]);t!=null&&a(e,["operationName"],t);let o=s(n,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Uy(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Vy(l)),e}function Fy(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["response"]);return l!=null&&a(e,["response"],qy(l)),e}function Vy(n){let e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>Gy(l))),a(e,["generatedVideos"],i)}let o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);let r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function qy(n){let e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>Hy(l))),a(e,["generatedVideos"],i)}let o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);let r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Gy(n){let e={},t=s(n,["video"]);return t!=null&&a(e,["video"],Oy(t)),e}function Hy(n){let e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],Yy(t)),e}function By(n){let e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function zy(n){let e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function Jy(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["response"]);return l!=null&&a(e,["response"],$y(l)),e}function $y(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["parent"]);o!=null&&a(e,["parent"],o);let r=s(n,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function dm(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["response"]);return l!=null&&a(e,["response"],Wy(l)),e}function Wy(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["parent"]);o!=null&&a(e,["parent"],o);let r=s(n,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function Oy(n){let e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);let o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],iu(o));let r=s(n,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function Yy(n){let e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);let o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],iu(o));let r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}var bf;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bf||(bf={}));var Zf;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Zf||(Zf={}));var jf;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(jf||(jf={}));var On;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(On||(On={}));var ep;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ep||(ep={}));var np;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(np||(np={}));var tp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(tp||(tp={}));var op;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(op||(op={}));var rp;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(rp||(rp={}));var ip;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ip||(ip={}));var sp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(sp||(sp={}));var lp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(lp||(lp={}));var ap;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(ap||(ap={}));var up;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(up||(up={}));var cp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cp||(cp={}));var dp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dp||(dp={}));var fp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(fp||(fp={}));var pp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(pp||(pp={}));var Ii;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ii||(Ii={}));var mp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(mp||(mp={}));var hp;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hp||(hp={}));var gp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gp||(gp={}));var ha;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ha||(ha={}));var yp;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yp||(yp={}));var vp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(vp||(vp={}));var _p;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(_p||(_p={}));var Ep;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Ep||(Ep={}));var Tp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Tp||(Tp={}));var Cp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Cp||(Cp={}));var Sp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Sp||(Sp={}));var Ip;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Ip||(Ip={}));var wp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(wp||(wp={}));var Ap;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ap||(Ap={}));var Pp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Pp||(Pp={}));var Np;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Np||(Np={}));var Rp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Rp||(Rp={}));var xp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(xp||(xp={}));var kp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(kp||(kp={}));var Mp;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Mp||(Mp={}));var Dp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Dp||(Dp={}));var Lp;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Lp||(Lp={}));var Up;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Up||(Up={}));var Fp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Fp||(Fp={}));var Vp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Vp||(Vp={}));var qp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qp||(qp={}));var Gp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Gp||(Gp={}));var Hp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Hp||(Hp={}));var Bp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bp||(Bp={}));var zp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(zp||(zp={}));var Jp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Jp||(Jp={}));var $p;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($p||($p={}));var Wp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Wp||(Wp={}));var $t;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})($t||($t={}));var Ko=class{constructor(e){let t={};for(let o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}};var pt=class{get text(){var e,t,o,r,i,l,u,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let m of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(let[g,_]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(_!==null||_!==void 0)&&p.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,o,r,i,l,u,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(let[m,g]of Object.entries(p))m!=="inlineData"&&(g!==null||g!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,o,r,i,l,u,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,t,o,r,i,l,u,c,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,o,r,i,l,u,c,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},wi=class{},Ai=class{},ga=class{},ya=class{},va=class{},_a=class{},Pi=class{},Ni=class{},Ri=class{},Ea=class{};var xi=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let o=new n,r,i=e;return t?r=Fy(i):r=Uy(i),Object.assign(o,r),o}},ki=class{},Mi=class{},Di=class{},Ta=class{},Ca=class{},Sa=class{};var Ia=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let o=new n,i=Jy(e);return Object.assign(o,i),o}},wa=class{},Aa=class{},Pa=class{};var Li=class{};var Na=class{get text(){var e,t,o;let r="",i=!1,l=[];for(let u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(let[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,t,o;let r="",i=[];for(let l of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(let[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var Ra=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var xa=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let o=new n,i=dm(e);return Object.assign(o,i),o}};function V(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function fm(n,e){let t=V(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function pm(n){return Array.isArray(n)?n.map(e=>Ui(e)):[Ui(n)]}function Ui(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function mm(n){let e=Ui(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hm(n){let e=Ui(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Op(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function gm(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Op(e)):[Op(n)]}function ka(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Yp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Kp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function he(n){if(n==null)throw new Error("ContentUnion is required");return ka(n)?n:{role:"user",parts:gm(n)}}function su(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{let o=he(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){let t=he(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>he(t)):[he(e)]}function Je(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Yp(n)||Kp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[he(n)]}let e=[],t=[],o=ka(n[0]);for(let r of n){let i=ka(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Yp(r)||Kp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||e.push({role:"user",parts:gm(t)}),e}function Ky(n,e){n.includes("null")&&(e.nullable=!0);let t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(On).includes(t[0].toUpperCase())?t[0].toUpperCase():On.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of t)e.anyOf.push({type:Object.values(On).includes(o.toUpperCase())?o.toUpperCase():On.TYPE_UNSPECIFIED})}}function Wt(n){let e={},t=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=n.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,n=i[1]):i[1].type==="null"&&(e.nullable=!0,n=i[0])),n.type instanceof Array&&Ky(n.type,e);for(let[l,u]of Object.entries(n))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(On).includes(u.toUpperCase())?u.toUpperCase():On.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=Wt(u);else if(o.includes(l)){let c=[];for(let d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Wt(d))}e[l]=c}else if(r.includes(l)){let c={};for(let[d,f]of Object.entries(u))c[d]=Wt(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function lu(n){return Wt(n)}function au(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function uu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Kt(n){if(n.functionDeclarations)for(let e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Wt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Wt(e.response));return n}function Qt(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");let e=[];for(let t of n)e.push(t);return e}function Qy(n,e,t,o=1){let r=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Cn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Qy(n,e,"cachedContents")}function ym(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Yn(n){return iu(n)}function Xy(n){return n!=null&&typeof n=="object"&&"name"in n}function by(n){return n!=null&&typeof n=="object"&&"video"in n}function Zy(n){return n!=null&&typeof n=="object"&&"uri"in n}function vm(n){var e;let t;if(Xy(n)&&(t=n.name),!(Zy(n)&&(t=n.uri,t===void 0))&&!(by(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){let r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function _m(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Em(n){for(let e of["models","tunedModels","publisherModels"])if(jy(n,e))return n[e];return[]}function jy(n,e){return n!==null&&typeof n=="object"&&e in n}function ev(n,e={}){let t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function nv(n,e={}){let t=[],o=new Set;for(let r of n){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let l=ev(r,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function Tm(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;let o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function tv(n){if(typeof n!="string")return n;let e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Cm(n){if(typeof n!="object"||n===null)return{};let e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;let r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let i=!1;for(let l of r){if(typeof l!="object"||l===null)continue;let c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Xt(n,e){let t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function Sm(n){let e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function ov(n){let e={},t=s(n,["responsesFile"]);t!=null&&a(e,["fileName"],t);let o=s(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Lv(l))),a(e,["inlinedResponses"],i)}let r=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function rv(n){let e={},t=s(n,["predictionsFormat"]);t!=null&&a(e,["format"],t);let o=s(n,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);let r=s(n,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function iv(n){let e={},t=s(n,["format"]);t!=null&&a(e,["predictionsFormat"],t);let o=s(n,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);let r=s(n,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ci(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);let r=s(n,["metadata","state"]);r!=null&&a(e,["state"],Sm(r));let i=s(n,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);let l=s(n,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);let u=s(n,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);let c=s(n,["metadata","model"]);c!=null&&a(e,["model"],c);let d=s(n,["metadata","output"]);return d!=null&&a(e,["dest"],ov(Cm(d))),e}function Ma(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);let r=s(n,["state"]);r!=null&&a(e,["state"],Sm(r));let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["createTime"]);l!=null&&a(e,["createTime"],l);let u=s(n,["startTime"]);u!=null&&a(e,["startTime"],u);let c=s(n,["endTime"]);c!=null&&a(e,["endTime"],c);let d=s(n,["updateTime"]);d!=null&&a(e,["updateTime"],d);let f=s(n,["model"]);f!=null&&a(e,["model"],f);let p=s(n,["inputConfig"]);p!=null&&a(e,["src"],sv(p));let m=s(n,["outputConfig"]);m!=null&&a(e,["dest"],rv(Cm(m)));let g=s(n,["completionStats"]);return g!=null&&a(e,["completionStats"],g),e}function sv(n){let e={},t=s(n,["instancesFormat"]);t!=null&&a(e,["format"],t);let o=s(n,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);let r=s(n,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function lv(n,e){let t={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);let r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Dv(n,l))),a(t,["requests","requests"],i)}return t}function av(n){let e={},t=s(n,["format"]);t!=null&&a(e,["instancesFormat"],t);let o=s(n,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);let r=s(n,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function uv(n){let e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function cv(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Xt(n,o)),t}function dv(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Xt(n,o)),t}function fv(n){let e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);let o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],pv(o));let r=s(n,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);let i=s(n,["finishReason"]);i!=null&&a(e,["finishReason"],i);let l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);let u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);let c=s(n,["index"]);c!=null&&a(e,["index"],c);let d=s(n,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);let f=s(n,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),a(e,["safetyRatings"],m)}let p=s(n,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function pv(n){let e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function Im(n){let e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Bv(i))),a(e,["parts"],r)}let o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function mv(n,e){let t={},o=s(n,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function hv(n,e){let t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);let r=s(n,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],iv(tv(r))),t}function Qp(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["src"]);r!=null&&a(t,["batch","inputConfig"],lv(n,Tm(n,r)));let i=s(e,["config"]);return i!=null&&mv(i,t),t}function gv(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["model"],V(n,o));let r=s(e,["src"]);r!=null&&a(t,["inputConfig"],av(Tm(n,r)));let i=s(e,["config"]);return i!=null&&hv(i,t),t}function yv(n,e){let t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),t}function vv(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["src"]);r!=null&&a(t,["batch","inputConfig"],wv(n,r));let i=s(e,["config"]);return i!=null&&yv(i,t),t}function _v(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Xt(n,o)),t}function Ev(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Xt(n,o)),t}function Tv(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["name"]);o!=null&&a(e,["name"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);return i!=null&&a(e,["error"],i),e}function Cv(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["name"]);o!=null&&a(e,["name"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);return i!=null&&a(e,["error"],i),e}function Sv(n,e){let t={},o=s(e,["contents"]);if(o!=null){let i=su(n,o);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["requests[]","request","content"],i)}let r=s(e,["config"]);return r!=null&&(a(t,["_self"],Iv(r,t)),Dy(t,{"requests[].*":"requests[].request.*"})),t}function Iv(n,e){let t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);let r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);let i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function wv(n,e){let t={},o=s(e,["fileName"]);o!=null&&a(t,["file_name"],o);let r=s(e,["inlinedRequests"]);return r!=null&&a(t,["requests"],Sv(n,r)),t}function Av(n){let e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Pv(n,e,t){let o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Im(he(r)));let i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);let l=s(e,["topP"]);l!=null&&a(o,["topP"],l);let u=s(e,["topK"]);u!=null&&a(o,["topK"],u);let c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);let d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);let f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);let p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);let m=s(e,["logprobs"]);m!=null&&a(o,["logprobs"],m);let g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);let _=s(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);let E=s(e,["seed"]);E!=null&&a(o,["seed"],E);let N=s(e,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);let y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],lu(y));let h=s(e,["responseJsonSchema"]);if(h!=null&&a(o,["responseJsonSchema"],h),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let v=s(e,["safetySettings"]);if(t!==void 0&&v!=null){let H=v;Array.isArray(H)&&(H=H.map(Ae=>zv(Ae))),a(t,["safetySettings"],H)}let T=s(e,["tools"]);if(t!==void 0&&T!=null){let H=Qt(T);Array.isArray(H)&&(H=H.map(Ae=>Jv(Kt(Ae)))),a(t,["tools"],H)}let C=s(e,["toolConfig"]);if(t!==void 0&&C!=null&&a(t,["toolConfig"],C),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let S=s(e,["cachedContent"]);t!==void 0&&S!=null&&a(t,["cachedContent"],Cn(n,S));let I=s(e,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);let w=s(e,["mediaResolution"]);w!=null&&a(o,["mediaResolution"],w);let A=s(e,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],au(A)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let R=s(e,["thinkingConfig"]);R!=null&&a(o,["thinkingConfig"],R);let D=s(e,["imageConfig"]);return D!=null&&a(o,["imageConfig"],D),o}function Nv(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>fv(d))),a(e,["candidates"],c)}let r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);let i=s(n,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);let l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);let u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Rv(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Xt(n,o)),t}function xv(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Xt(n,o)),t}function kv(n){let e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function Mv(n){let e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function Dv(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["request","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let u=Je(r);Array.isArray(u)&&(u=u.map(c=>Im(c))),a(t,["request","contents"],u)}let i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);let l=s(e,["config"]);return l!=null&&a(t,["request","generationConfig"],Pv(n,l,s(t,["request"],{}))),t}function Lv(n){let e={},t=s(n,["response"]);t!=null&&a(e,["response"],Nv(t));let o=s(n,["error"]);return o!=null&&a(e,["error"],o),e}function Uv(n,e){let t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);let r=s(n,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Fv(n,e){let t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);let r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);let i=s(n,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),t}function Vv(n){let e={},t=s(n,["config"]);return t!=null&&Uv(t,e),e}function qv(n){let e={},t=s(n,["config"]);return t!=null&&Fv(t,e),e}function Gv(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Ci(l))),a(e,["batchJobs"],i)}return e}function Hv(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Ma(l))),a(e,["batchJobs"],i)}return e}function Bv(n){let e={},t=s(n,["functionCall"]);t!=null&&a(e,["functionCall"],t);let o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);let r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);let i=s(n,["fileData"]);i!=null&&a(e,["fileData"],Av(i));let l=s(n,["functionResponse"]);l!=null&&a(e,["functionResponse"],l);let u=s(n,["inlineData"]);u!=null&&a(e,["inlineData"],uv(u));let c=s(n,["text"]);c!=null&&a(e,["text"],c);let d=s(n,["thought"]);d!=null&&a(e,["thought"],d);let f=s(n,["thoughtSignature"]);f!=null&&a(e,["thoughtSignature"],f);let p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function zv(n){let e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function Jv(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);let r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);let i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);let l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],kv(u));let c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],Mv(c));let d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}var En;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(En||(En={}));var Tn=class{constructor(e,t,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,r)}init(e,t,o){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var Da=class extends je{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new Tn(En.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){let t=Qp(this.apiClient,e),o=t._url,r=x("{model}:batchGenerateContent",o),u=t.batch.inputConfig.requests,c=u.requests,d=[];for(let f of c){let p=Object.assign({},f);if(p.systemInstruction){let m=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=m,p.request=g}d.push(p)}return u.requests=d,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){let o=t?Object.assign({},t):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=gv(this.apiClient,e);return u=x("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ma(f))}else{let d=Qp(this.apiClient,e);return u=x("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ci(f))}}async createEmbeddingsInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=vv(this.apiClient,e);return i=x("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Ci(c))}}async get(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=xv(this.apiClient,e);return u=x("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ma(f))}else{let d=Rv(this.apiClient,e);return u=x("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ci(f))}}async cancel(e){var t,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){let c=dv(this.apiClient,e);l=x("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=cv(this.apiClient,e);l=x("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=qv(e);return u=x("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=Hv(f),m=new Li;return Object.assign(m,p),m})}else{let d=Vv(e);return u=x("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=Gv(f),m=new Li;return Object.assign(m,p),m})}}async delete(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=Ev(this.apiClient,e);return u=x("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Cv(f))}else{let d=_v(this.apiClient,e);return u=x("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Tv(f))}}};function $v(n){let e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Xp(n){let e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>d_(i))),a(e,["parts"],r)}let o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function Wv(n,e){let t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);let r=s(n,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);let i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);let l=s(n,["contents"]);if(e!==void 0&&l!=null){let f=Je(l);Array.isArray(f)&&(f=f.map(p=>Xp(p))),a(e,["contents"],f)}let u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Xp(he(u)));let c=s(n,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>f_(p))),a(e,["tools"],f)}let d=s(n,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],d),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Ov(n,e){let t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);let r=s(n,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);let i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);let l=s(n,["contents"]);if(e!==void 0&&l!=null){let p=Je(l);Array.isArray(p)&&(p=p.map(m=>m)),a(e,["contents"],p)}let u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],he(u));let c=s(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>p_(m))),a(e,["tools"],p)}let d=s(n,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);let f=s(n,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),t}function Yv(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["model"],fm(n,o));let r=s(e,["config"]);return r!=null&&Wv(r,t),t}function Kv(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["model"],fm(n,o));let r=s(e,["config"]);return r!=null&&Ov(r,t),t}function Qv(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Cn(n,o)),t}function Xv(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Cn(n,o)),t}function bv(n){let e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Zv(n){let e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function jv(n){let e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function e_(n){let e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=s(n,["description"]);t!=null&&a(e,["description"],t);let o=s(n,["name"]);o!=null&&a(e,["name"],o);let r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);let i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);let l=s(n,["response"]);l!=null&&a(e,["response"],l);let u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function n_(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Cn(n,o)),t}function t_(n,e){let t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Cn(n,o)),t}function o_(n){let e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function r_(n){let e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function i_(n,e){let t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);let r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function s_(n,e){let t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);let r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function l_(n){let e={},t=s(n,["config"]);return t!=null&&i_(t,e),e}function a_(n){let e={},t=s(n,["config"]);return t!=null&&s_(t,e),e}function u_(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function c_(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function d_(n){let e={},t=s(n,["functionCall"]);t!=null&&a(e,["functionCall"],t);let o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);let r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);let i=s(n,["fileData"]);i!=null&&a(e,["fileData"],jv(i));let l=s(n,["functionResponse"]);l!=null&&a(e,["functionResponse"],l);let u=s(n,["inlineData"]);u!=null&&a(e,["inlineData"],$v(u));let c=s(n,["text"]);c!=null&&a(e,["text"],c);let d=s(n,["thought"]);d!=null&&a(e,["thought"],d);let f=s(n,["thoughtSignature"]);f!=null&&a(e,["thoughtSignature"],f);let p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function f_(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);let r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);let i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);let l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],o_(u));let c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],r_(c));let d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function p_(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>e_(m))),a(e,["functionDeclarations"],p)}let o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);let r=s(n,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);let i=s(n,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);let u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);let c=s(n,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);let d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);let f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function m_(n,e){let t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);let r=s(n,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),t}function h_(n,e){let t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);let r=s(n,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),t}function g_(n,e){let t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Cn(n,o));let r=s(e,["config"]);return r!=null&&m_(r,t),t}function y_(n,e){let t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Cn(n,o));let r=s(e,["config"]);return r!=null&&h_(r,t),t}var La=class extends je{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Tn(En.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=Kv(this.apiClient,e);return u=x("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{let d=Yv(this.apiClient,e);return u=x("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=t_(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{let d=n_(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=Xv(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=Zv(f),m=new Mi;return Object.assign(m,p),m})}else{let d=Qv(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=bv(f),m=new Mi;return Object.assign(m,p),m})}}async update(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=y_(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{let d=g_(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=a_(e);return u=x("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=c_(f),m=new Di;return Object.assign(m,p),m})}else{let d=l_(e);return u=x("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=u_(f),m=new Di;return Object.assign(m,p),m})}}};function bp(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(n){return this instanceof W?(this.v=n,this):new W(n)}function Ot(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(g){return function(_){return Promise.resolve(_).then(g,p)}}function u(g,_){o[g]&&(r[g]=function(E){return new Promise(function(N,y){i.push([g,E,N,y])>1||c(g,E)})},_&&(r[g]=_(r[g])))}function c(g,_){try{d(o[g](_))}catch(E){m(i[0][3],E)}}function d(g){g.value instanceof W?Promise.resolve(g.value.v).then(f,p):m(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function m(g,_){g(_),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Yo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof bp=="function"?bp(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=n[i]&&function(l){return new Promise(function(u,c){l=n[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}function v_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;let t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:wm(t)}function wm(n){if(n.parts===void 0||n.parts.length===0)return!1;for(let e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function __(n){if(n.length!==0){for(let e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Zp(n){if(n===void 0||n.length===0)return[];let e=[],t=n.length,o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{let r=[],i=!0;for(;o<t&&n[o].role==="model";)r.push(n[o]),i&&!wm(n[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var Ua=class{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Fa(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Fa=class{constructor(e,t,o,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),__(i)}async sendMessage(e){var t;await this.sendPromise;let o=he(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var i,l,u;let c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);let g=d?[d]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;let o=he(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let t=e?Zp(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,r;return Ot(this,arguments,function*(){var l,u,c,d;let f=[];try{for(var p=!0,m=Yo(e),g;g=yield W(m.next()),l=g.done,!l;p=!0){d=g.value,p=!1;let _=d;if(v_(_)){let E=(r=(o=_.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;E!==void 0&&f.push(E)}yield yield W(_)}}catch(_){u={error:_}}finally{try{!p&&!l&&(c=m.return)&&(yield W(c.call(m)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let r=[];t.length>0&&t.every(i=>i.role!==void 0)?r=t:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Zp(o)):this.history.push(e),this.history.push(...r)}};var Fi=class n extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,n.prototype)}};function E_(n){let e={},t=s(n,["file"]);return t!=null&&a(e,["file"],t),e}function T_(n){let e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function C_(n){let e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],vm(t)),e}function S_(n){let e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function I_(n){let e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],vm(t)),e}function w_(n,e){let t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);let r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function A_(n){let e={},t=s(n,["config"]);return t!=null&&w_(t,e),e}function P_(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}var Va=class extends je{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Tn(En.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=A_(e);return i=x("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=P_(c),f=new wa;return Object.assign(f,d),f})}}async createInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=E_(e);return i=x("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=T_(c),f=new Aa;return Object.assign(f,d),f})}}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=I_(e);return i=x("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=C_(e);return i=x("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=S_(c),f=new Pa;return Object.assign(f,d),f})}}};function Si(n){let e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function N_(n){let e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>J_(i))),a(e,["parts"],r)}let o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function R_(n){let e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function x_(n){let e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=s(n,["description"]);t!=null&&a(e,["description"],t);let o=s(n,["name"]);o!=null&&a(e,["name"],o);let r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);let i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);let l=s(n,["response"]);l!=null&&a(e,["response"],l);let u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function k_(n){let e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);let o=s(n,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);let r=s(n,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);let i=s(n,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);let l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);let u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);let c=s(n,["logprobs"]);c!=null&&a(e,["logprobs"],c);let d=s(n,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);let f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);let p=s(n,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);let m=s(n,["responseLogprobs"]);m!=null&&a(e,["responseLogprobs"],m);let g=s(n,["responseMimeType"]);g!=null&&a(e,["responseMimeType"],g);let _=s(n,["responseModalities"]);_!=null&&a(e,["responseModalities"],_);let E=s(n,["responseSchema"]);E!=null&&a(e,["responseSchema"],E);let N=s(n,["routingConfig"]);N!=null&&a(e,["routingConfig"],N);let y=s(n,["seed"]);y!=null&&a(e,["seed"],y);let h=s(n,["speechConfig"]);h!=null&&a(e,["speechConfig"],Am(h));let v=s(n,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);let T=s(n,["temperature"]);T!=null&&a(e,["temperature"],T);let C=s(n,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);let S=s(n,["topK"]);S!=null&&a(e,["topK"],S);let I=s(n,["topP"]);if(I!=null&&a(e,["topP"],I),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function M_(n){let e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function D_(n){let e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function L_(n,e){let t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);let r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);let i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);let l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);let u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);let c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);let d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);let f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);let p=s(n,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],uu(p));let m=s(n,["thinkingConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","thinkingConfig"],m);let g=s(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);let _=s(n,["systemInstruction"]);e!==void 0&&_!=null&&a(e,["setup","systemInstruction"],N_(he(_)));let E=s(n,["tools"]);if(e!==void 0&&E!=null){let S=Qt(E);Array.isArray(S)&&(S=S.map(I=>W_(Kt(I)))),a(e,["setup","tools"],S)}let N=s(n,["sessionResumption"]);e!==void 0&&N!=null&&a(e,["setup","sessionResumption"],$_(N));let y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);let h=s(n,["outputAudioTranscription"]);e!==void 0&&h!=null&&a(e,["setup","outputAudioTranscription"],h);let v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);let T=s(n,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);let C=s(n,["proactivity"]);return e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),t}function U_(n,e){let t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],k_(o));let r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);let i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);let l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);let u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);let c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);let d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);let f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);let p=s(n,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],Am(uu(p)));let m=s(n,["thinkingConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","thinkingConfig"],m);let g=s(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);let _=s(n,["systemInstruction"]);e!==void 0&&_!=null&&a(e,["setup","systemInstruction"],he(_));let E=s(n,["tools"]);if(e!==void 0&&E!=null){let S=Qt(E);Array.isArray(S)&&(S=S.map(I=>O_(Kt(I)))),a(e,["setup","tools"],S)}let N=s(n,["sessionResumption"]);e!==void 0&&N!=null&&a(e,["setup","sessionResumption"],N);let y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);let h=s(n,["outputAudioTranscription"]);e!==void 0&&h!=null&&a(e,["setup","outputAudioTranscription"],h);let v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);let T=s(n,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);let C=s(n,["proactivity"]);return e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),t}function F_(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],V(n,o));let r=s(e,["config"]);return r!=null&&a(t,["config"],L_(r,t)),t}function V_(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],V(n,o));let r=s(e,["config"]);return r!=null&&a(t,["config"],U_(r,t)),t}function q_(n){let e={},t=s(n,["musicGenerationConfig"]);return t!=null&&a(e,["musicGenerationConfig"],t),e}function G_(n){let e={},t=s(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function H_(n){let e={},t=s(n,["media"]);if(t!=null){let d=pm(t);Array.isArray(d)&&(d=d.map(f=>Si(f))),a(e,["mediaChunks"],d)}let o=s(n,["audio"]);o!=null&&a(e,["audio"],Si(hm(o)));let r=s(n,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);let i=s(n,["video"]);i!=null&&a(e,["video"],Si(mm(i)));let l=s(n,["text"]);l!=null&&a(e,["text"],l);let u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);let c=s(n,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function B_(n){let e={},t=s(n,["media"]);if(t!=null){let d=pm(t);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}let o=s(n,["audio"]);o!=null&&a(e,["audio"],hm(o));let r=s(n,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);let i=s(n,["video"]);i!=null&&a(e,["video"],mm(i));let l=s(n,["text"]);l!=null&&a(e,["text"],l);let u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);let c=s(n,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function z_(n){let e={},t=s(n,["setupComplete"]);t!=null&&a(e,["setupComplete"],t);let o=s(n,["serverContent"]);o!=null&&a(e,["serverContent"],o);let r=s(n,["toolCall"]);r!=null&&a(e,["toolCall"],r);let i=s(n,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);let l=s(n,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],Y_(l));let u=s(n,["goAway"]);u!=null&&a(e,["goAway"],u);let c=s(n,["sessionResumptionUpdate"]);return c!=null&&a(e,["sessionResumptionUpdate"],c),e}function J_(n){let e={},t=s(n,["functionCall"]);t!=null&&a(e,["functionCall"],t);let o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);let r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);let i=s(n,["fileData"]);i!=null&&a(e,["fileData"],R_(i));let l=s(n,["functionResponse"]);l!=null&&a(e,["functionResponse"],l);let u=s(n,["inlineData"]);u!=null&&a(e,["inlineData"],Si(u));let c=s(n,["text"]);c!=null&&a(e,["text"],c);let d=s(n,["thought"]);d!=null&&a(e,["thought"],d);let f=s(n,["thoughtSignature"]);f!=null&&a(e,["thoughtSignature"],f);let p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function $_(n){let e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Am(n){let e={},t=s(n,["languageCode"]);t!=null&&a(e,["languageCode"],t);let o=s(n,["voiceConfig"]);if(o!=null&&a(e,["voiceConfig"],o),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function W_(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);let r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);let i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);let l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],M_(u));let c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],D_(c));let d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function O_(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>x_(m))),a(e,["functionDeclarations"],p)}let o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);let r=s(n,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);let i=s(n,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);let u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);let c=s(n,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);let d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);let f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Y_(n){let e={},t=s(n,["promptTokenCount"]);t!=null&&a(e,["promptTokenCount"],t);let o=s(n,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);let r=s(n,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);let i=s(n,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);let l=s(n,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);let u=s(n,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);let c=s(n,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["promptTokensDetails"],g)}let d=s(n,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["cacheTokensDetails"],g)}let f=s(n,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["responseTokensDetails"],g)}let p=s(n,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["toolUsePromptTokensDetails"],g)}let m=s(n,["trafficType"]);return m!=null&&a(e,["trafficType"],m),e}function K_(n){let e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Q_(n){let e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);let o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],X_(o));let r=s(n,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);let i=s(n,["finishReason"]);i!=null&&a(e,["finishReason"],i);let l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);let u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);let c=s(n,["index"]);c!=null&&a(e,["index"],c);let d=s(n,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);let f=s(n,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),a(e,["safetyRatings"],m)}let p=s(n,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function X_(n){let e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function b_(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let i=Je(r);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["contents"],i)}return t}function Z_(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function j_(n){let e={},t=s(n,["values"]);t!=null&&a(e,["values"],t);let o=s(n,["statistics"]);return o!=null&&a(e,["statistics"],eE(o)),e}function eE(n){let e={},t=s(n,["truncated"]);t!=null&&a(e,["truncated"],t);let o=s(n,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function Gi(n){let e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i0(i))),a(e,["parts"],r)}let o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function nE(n){let e={},t=s(n,["controlType"]);t!=null&&a(e,["controlType"],t);let o=s(n,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function tE(n){let e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function oE(n,e){let t={},o=s(n,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],he(o));let r=s(n,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>km(u))),a(e,["tools"],l)}let i=s(n,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],OE(i)),t}function rE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>Gi(u))),a(t,["contents"],l)}let i=s(e,["config"]);return i!=null&&tE(i),t}function iE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}let i=s(e,["config"]);return i!=null&&oE(i,t),t}function sE(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);let r=s(n,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function lE(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function aE(n,e){let t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],V(n,o)),t}function uE(n,e){let t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],V(n,o)),t}function cE(n){let e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function dE(n){let e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function fE(n,e){let t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);let r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);let i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);let l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);let u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);let c=s(n,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);let d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);let f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);let p=s(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);let m=s(n,["includeRaiReason"]);e!==void 0&&m!=null&&a(e,["parameters","includeRaiReason"],m);let g=s(n,["language"]);e!==void 0&&g!=null&&a(e,["parameters","language"],g);let _=s(n,["outputMimeType"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","mimeType"],_);let E=s(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","compressionQuality"],E);let N=s(n,["addWatermark"]);e!==void 0&&N!=null&&a(e,["parameters","addWatermark"],N);let y=s(n,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);let h=s(n,["editMode"]);e!==void 0&&h!=null&&a(e,["parameters","editMode"],h);let v=s(n,["baseSteps"]);return e!==void 0&&v!=null&&a(e,["parameters","editConfig","baseSteps"],v),t}function pE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);let i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>d0(c))),a(t,["instances[0]","referenceImages"],u)}let l=s(e,["config"]);return l!=null&&fE(l,t),t}function mE(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Hi(i))),a(e,["generatedImages"],r)}return e}function hE(n,e){let t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);let r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);let i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function gE(n,e){let t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);let r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);let i=s(n,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);let l=s(n,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);let u=s(n,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),t}function yE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let u=su(n,r);Array.isArray(u)&&(u=u.map(c=>c)),a(t,["requests[]","content"],u)}let i=s(e,["config"]);i!=null&&hE(i,t);let l=s(e,["model"]);return l!==void 0&&a(t,["requests[]","model"],V(n,l)),t}function vE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let l=su(n,r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["instances[]","content"],l)}let i=s(e,["config"]);return i!=null&&gE(i,t),t}function _E(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}let r=s(n,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function EE(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>j_(l))),a(e,["embeddings"],i)}let r=s(n,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function TE(n){let e={},t=s(n,["endpoint"]);t!=null&&a(e,["name"],t);let o=s(n,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function CE(n){let e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function SE(n){let e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=s(n,["description"]);t!=null&&a(e,["description"],t);let o=s(n,["name"]);o!=null&&a(e,["name"],o);let r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);let i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);let l=s(n,["response"]);l!=null&&a(e,["response"],l);let u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function IE(n,e,t){let o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Gi(he(r)));let i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);let l=s(e,["topP"]);l!=null&&a(o,["topP"],l);let u=s(e,["topK"]);u!=null&&a(o,["topK"],u);let c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);let d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);let f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);let p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);let m=s(e,["logprobs"]);m!=null&&a(o,["logprobs"],m);let g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);let _=s(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);let E=s(e,["seed"]);E!=null&&a(o,["seed"],E);let N=s(e,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);let y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],lu(y));let h=s(e,["responseJsonSchema"]);if(h!=null&&a(o,["responseJsonSchema"],h),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let v=s(e,["safetySettings"]);if(t!==void 0&&v!=null){let H=v;Array.isArray(H)&&(H=H.map(Ae=>f0(Ae))),a(t,["safetySettings"],H)}let T=s(e,["tools"]);if(t!==void 0&&T!=null){let H=Qt(T);Array.isArray(H)&&(H=H.map(Ae=>v0(Kt(Ae)))),a(t,["tools"],H)}let C=s(e,["toolConfig"]);if(t!==void 0&&C!=null&&a(t,["toolConfig"],C),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let S=s(e,["cachedContent"]);t!==void 0&&S!=null&&a(t,["cachedContent"],Cn(n,S));let I=s(e,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);let w=s(e,["mediaResolution"]);w!=null&&a(o,["mediaResolution"],w);let A=s(e,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],au(A)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let R=s(e,["thinkingConfig"]);R!=null&&a(o,["thinkingConfig"],R);let D=s(e,["imageConfig"]);return D!=null&&a(o,["imageConfig"],D),o}function wE(n,e,t){let o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],he(r));let i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);let l=s(e,["topP"]);l!=null&&a(o,["topP"],l);let u=s(e,["topK"]);u!=null&&a(o,["topK"],u);let c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);let d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);let f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);let p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);let m=s(e,["logprobs"]);m!=null&&a(o,["logprobs"],m);let g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);let _=s(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);let E=s(e,["seed"]);E!=null&&a(o,["seed"],E);let N=s(e,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);let y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],lu(y));let h=s(e,["responseJsonSchema"]);h!=null&&a(o,["responseJsonSchema"],h);let v=s(e,["routingConfig"]);v!=null&&a(o,["routingConfig"],v);let T=s(e,["modelSelectionConfig"]);T!=null&&a(o,["modelConfig"],T);let C=s(e,["safetySettings"]);if(t!==void 0&&C!=null){let Ue=C;Array.isArray(Ue)&&(Ue=Ue.map(Zt=>Zt)),a(t,["safetySettings"],Ue)}let S=s(e,["tools"]);if(t!==void 0&&S!=null){let Ue=Qt(S);Array.isArray(Ue)&&(Ue=Ue.map(Zt=>km(Kt(Zt)))),a(t,["tools"],Ue)}let I=s(e,["toolConfig"]);t!==void 0&&I!=null&&a(t,["toolConfig"],I);let w=s(e,["labels"]);t!==void 0&&w!=null&&a(t,["labels"],w);let A=s(e,["cachedContent"]);t!==void 0&&A!=null&&a(t,["cachedContent"],Cn(n,A));let R=s(e,["responseModalities"]);R!=null&&a(o,["responseModalities"],R);let D=s(e,["mediaResolution"]);D!=null&&a(o,["mediaResolution"],D);let H=s(e,["speechConfig"]);H!=null&&a(o,["speechConfig"],xm(au(H)));let Ae=s(e,["audioTimestamp"]);Ae!=null&&a(o,["audioTimestamp"],Ae);let re=s(e,["thinkingConfig"]);re!=null&&a(o,["thinkingConfig"],re);let bt=s(e,["imageConfig"]);return bt!=null&&a(o,["imageConfig"],bt),o}function jp(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>Gi(u))),a(t,["contents"],l)}let i=s(e,["config"]);return i!=null&&a(t,["generationConfig"],IE(n,i,t)),t}function em(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}let i=s(e,["config"]);return i!=null&&a(t,["generationConfig"],wE(n,i,t)),t}function nm(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Q_(d))),a(e,["candidates"],c)}let r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);let i=s(n,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);let l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);let u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function tm(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}let r=s(n,["createTime"]);r!=null&&a(e,["createTime"],r);let i=s(n,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);let l=s(n,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);let u=s(n,["responseId"]);u!=null&&a(e,["responseId"],u);let c=s(n,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function AE(n,e){let t={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);let r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);let i=s(n,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let l=s(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);let u=s(n,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);let c=s(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);let d=s(n,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);let f=s(n,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);let p=s(n,["outputMimeType"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","mimeType"],p);let m=s(n,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let g=s(n,["imageSize"]);if(e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function PE(n,e){let t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);let r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);let i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);let l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);let u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);let c=s(n,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);let d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);let f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);let p=s(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);let m=s(n,["includeRaiReason"]);e!==void 0&&m!=null&&a(e,["parameters","includeRaiReason"],m);let g=s(n,["language"]);e!==void 0&&g!=null&&a(e,["parameters","language"],g);let _=s(n,["outputMimeType"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","mimeType"],_);let E=s(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","compressionQuality"],E);let N=s(n,["addWatermark"]);e!==void 0&&N!=null&&a(e,["parameters","addWatermark"],N);let y=s(n,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);let h=s(n,["imageSize"]);e!==void 0&&h!=null&&a(e,["parameters","sampleImageSize"],h);let v=s(n,["enhancePrompt"]);return e!==void 0&&v!=null&&a(e,["parameters","enhancePrompt"],v),t}function NE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);let i=s(e,["config"]);return i!=null&&AE(i,t),t}function RE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);let i=s(e,["config"]);return i!=null&&PE(i,t),t}function xE(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>zE(l))),a(e,["generatedImages"],i)}let r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Nm(r)),e}function kE(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Hi(l))),a(e,["generatedImages"],i)}let r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Rm(r)),e}function ME(n,e){let t={},o=s(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let r=s(n,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let i=s(n,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);let l=s(n,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);let u=s(n,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);let d=s(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let f=s(n,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],Bi(f));let p=s(n,["referenceImages"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>k0(g))),a(e,["instances[0]","referenceImages"],m)}if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function DE(n,e){let t={},o=s(n,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);let r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);let i=s(n,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);let l=s(n,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);let u=s(n,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);let c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);let d=s(n,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);let f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);let p=s(n,["pubsubTopic"]);e!==void 0&&p!=null&&a(e,["parameters","pubsubTopic"],p);let m=s(n,["negativePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","negativePrompt"],m);let g=s(n,["enhancePrompt"]);e!==void 0&&g!=null&&a(e,["parameters","enhancePrompt"],g);let _=s(n,["generateAudio"]);e!==void 0&&_!=null&&a(e,["parameters","generateAudio"],_);let E=s(n,["lastFrame"]);e!==void 0&&E!=null&&a(e,["instances[0]","lastFrame"],en(E));let N=s(n,["referenceImages"]);if(e!==void 0&&N!=null){let v=N;Array.isArray(v)&&(v=v.map(T=>M0(T))),a(e,["instances[0]","referenceImages"],v)}let y=s(n,["mask"]);e!==void 0&&y!=null&&a(e,["instances[0]","mask"],x0(y));let h=s(n,["compressionQuality"]);return e!==void 0&&h!=null&&a(e,["parameters","compressionQuality"],h),t}function LE(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],qE(l)),e}function UE(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["response"]);return l!=null&&a(e,["response"],GE(l)),e}function FE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);let i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],Bi(i));let l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],Mm(l));let u=s(e,["source"]);u!=null&&HE(u,t);let c=s(e,["config"]);return c!=null&&ME(c,t),t}function VE(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);let i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],en(i));let l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],Dm(l));let u=s(e,["source"]);u!=null&&BE(u,t);let c=s(e,["config"]);return c!=null&&DE(c,t),t}function qE(n){let e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>$E(l))),a(e,["generatedVideos"],i)}let o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);let r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function GE(n){let e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>WE(l))),a(e,["generatedVideos"],i)}let o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);let r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function HE(n,e){let t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);let r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],Bi(r));let i=s(n,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Mm(i)),t}function BE(n,e){let t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);let r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],en(r));let i=s(n,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Dm(i)),t}function zE(n){let e={},t=s(n,["_self"]);t!=null&&a(e,["image"],bE(t));let o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);let r=s(n,["_self"]);return r!=null&&a(e,["safetyAttributes"],Nm(r)),e}function Hi(n){let e={},t=s(n,["_self"]);t!=null&&a(e,["image"],Pm(t));let o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);let r=s(n,["_self"]);r!=null&&a(e,["safetyAttributes"],Rm(r));let i=s(n,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function JE(n){let e={},t=s(n,["_self"]);t!=null&&a(e,["mask"],Pm(t));let o=s(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function $E(n){let e={},t=s(n,["video"]);return t!=null&&a(e,["video"],N0(t)),e}function WE(n){let e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],R0(t)),e}function OE(n){let e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);let o=s(n,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);let r=s(n,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);let i=s(n,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);let l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);let u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);let c=s(n,["logprobs"]);c!=null&&a(e,["logprobs"],c);let d=s(n,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);let f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);let p=s(n,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);let m=s(n,["responseLogprobs"]);m!=null&&a(e,["responseLogprobs"],m);let g=s(n,["responseMimeType"]);g!=null&&a(e,["responseMimeType"],g);let _=s(n,["responseModalities"]);_!=null&&a(e,["responseModalities"],_);let E=s(n,["responseSchema"]);E!=null&&a(e,["responseSchema"],E);let N=s(n,["routingConfig"]);N!=null&&a(e,["routingConfig"],N);let y=s(n,["seed"]);y!=null&&a(e,["seed"],y);let h=s(n,["speechConfig"]);h!=null&&a(e,["speechConfig"],xm(h));let v=s(n,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);let T=s(n,["temperature"]);T!=null&&a(e,["temperature"],T);let C=s(n,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);let S=s(n,["topK"]);S!=null&&a(e,["topK"],S);let I=s(n,["topP"]);if(I!=null&&a(e,["topP"],I),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function YE(n,e){let t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],V(n,o)),t}function KE(n,e){let t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],V(n,o)),t}function QE(n){let e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function XE(n){let e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function bE(n){let e={},t=s(n,["bytesBase64Encoded"]);t!=null&&a(e,["imageBytes"],Yn(t));let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Pm(n){let e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);let o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],Yn(o));let r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Bi(n){let e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let t=s(n,["imageBytes"]);t!=null&&a(e,["bytesBase64Encoded"],Yn(t));let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function en(n){let e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);let o=s(n,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Yn(o));let r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function ZE(n,e,t){let o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);let i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);let l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);let u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],_m(n,u)),o}function jE(n,e,t){let o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);let i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);let l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);let u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],_m(n,u)),o}function e0(n,e){let t={},o=s(e,["config"]);return o!=null&&ZE(n,o,t),t}function n0(n,e){let t={},o=s(e,["config"]);return o!=null&&jE(n,o,t),t}function t0(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["_self"]);if(r!=null){let i=Em(r);Array.isArray(i)&&(i=i.map(l=>qa(l))),a(e,["models"],i)}return e}function o0(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["_self"]);if(r!=null){let i=Em(r);Array.isArray(i)&&(i=i.map(l=>Ga(l))),a(e,["models"],i)}return e}function r0(n){let e={},t=s(n,["maskMode"]);t!=null&&a(e,["maskMode"],t);let o=s(n,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);let r=s(n,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function qa(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);let r=s(n,["description"]);r!=null&&a(e,["description"],r);let i=s(n,["version"]);i!=null&&a(e,["version"],i);let l=s(n,["_self"]);l!=null&&a(e,["tunedModelInfo"],_0(l));let u=s(n,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);let c=s(n,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);let d=s(n,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);let f=s(n,["temperature"]);f!=null&&a(e,["temperature"],f);let p=s(n,["maxTemperature"]);p!=null&&a(e,["maxTemperature"],p);let m=s(n,["topP"]);m!=null&&a(e,["topP"],m);let g=s(n,["topK"]);g!=null&&a(e,["topK"],g);let _=s(n,["thinking"]);return _!=null&&a(e,["thinking"],_),e}function Ga(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);let r=s(n,["description"]);r!=null&&a(e,["description"],r);let i=s(n,["versionId"]);i!=null&&a(e,["version"],i);let l=s(n,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>TE(m))),a(e,["endpoints"],p)}let u=s(n,["labels"]);u!=null&&a(e,["labels"],u);let c=s(n,["_self"]);c!=null&&a(e,["tunedModelInfo"],E0(c));let d=s(n,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);let f=s(n,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(e,["checkpoints"],p)}return e}function i0(n){let e={},t=s(n,["functionCall"]);t!=null&&a(e,["functionCall"],t);let o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);let r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);let i=s(n,["fileData"]);i!=null&&a(e,["fileData"],CE(i));let l=s(n,["functionResponse"]);l!=null&&a(e,["functionResponse"],l);let u=s(n,["inlineData"]);u!=null&&a(e,["inlineData"],K_(u));let c=s(n,["text"]);c!=null&&a(e,["text"],c);let d=s(n,["thought"]);d!=null&&a(e,["thought"],d);let f=s(n,["thoughtSignature"]);f!=null&&a(e,["thoughtSignature"],f);let p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function s0(n){let e={},t=s(n,["productImage"]);return t!=null&&a(e,["image"],en(t)),e}function l0(n,e){let t={},o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);let r=s(n,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);let i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);let l=s(n,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);let u=s(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);let c=s(n,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);let d=s(n,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);let f=s(n,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);let p=s(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p);let m=s(n,["enhancePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m);let g=s(n,["labels"]);return e!==void 0&&g!=null&&a(e,["labels"],g),t}function a0(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["source"]);r!=null&&c0(r,t);let i=s(e,["config"]);return i!=null&&l0(i,t),t}function u0(n){let e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Hi(r))),a(e,["generatedImages"],o)}return e}function c0(n,e){let t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);let r=s(n,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],en(r));let i=s(n,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>s0(u))),a(e,["instances[0]","productImages"],l)}return t}function d0(n){let e={},t=s(n,["referenceImage"]);t!=null&&a(e,["referenceImage"],en(t));let o=s(n,["referenceId"]);o!=null&&a(e,["referenceId"],o);let r=s(n,["referenceType"]);r!=null&&a(e,["referenceType"],r);let i=s(n,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],r0(i));let l=s(n,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],nE(l));let u=s(n,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);let c=s(n,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function Nm(n){let e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);let o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);let r=s(n,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function Rm(n){let e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);let o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);let r=s(n,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function f0(n){let e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function p0(n){let e={},t=s(n,["image"]);return t!=null&&a(e,["image"],en(t)),e}function m0(n,e){let t={},o=s(n,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);let r=s(n,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);let i=s(n,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);let l=s(n,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);let u=s(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);let c=s(n,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),t}function h0(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["source"]);r!=null&&y0(r,t);let i=s(e,["config"]);return i!=null&&m0(i,t),t}function g0(n){let e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>JE(r))),a(e,["generatedMasks"],o)}return e}function y0(n,e){let t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);let r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],en(r));let i=s(n,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],p0(i)),t}function xm(n){let e={},t=s(n,["languageCode"]);t!=null&&a(e,["languageCode"],t);let o=s(n,["voiceConfig"]);if(o!=null&&a(e,["voiceConfig"],o),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function v0(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);let r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);let i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);let l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],QE(u));let c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],XE(c));let d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function km(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>SE(m))),a(e,["functionDeclarations"],p)}let o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);let r=s(n,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);let i=s(n,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);let u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);let c=s(n,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);let d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);let f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function _0(n){let e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);let o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);let r=s(n,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function E0(n){let e={},t=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(e,["baseModel"],t);let o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);let r=s(n,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function T0(n,e){let t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);let r=s(n,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);let i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),t}function C0(n,e){let t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);let r=s(n,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);let i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),t}function S0(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],V(n,o));let r=s(e,["config"]);return r!=null&&T0(r,t),t}function I0(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["config"]);return r!=null&&C0(r,t),t}function w0(n,e){let t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);let r=s(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);let i=s(n,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);let l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);let u=s(n,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);let c=s(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);let d=s(n,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);let f=s(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);let p=s(n,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);let m=s(n,["numberOfImages"]);e!==void 0&&m!=null&&a(e,["parameters","sampleCount"],m);let g=s(n,["mode"]);return e!==void 0&&g!=null&&a(e,["parameters","mode"],g),t}function A0(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],V(n,o));let r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],en(r));let i=s(e,["upscaleFactor"]);i!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],i);let l=s(e,["config"]);return l!=null&&w0(l,t),t}function P0(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Hi(i))),a(e,["generatedImages"],r)}return e}function N0(n){let e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);let o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Yn(o));let r=s(n,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function R0(n){let e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);let o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Yn(o));let r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function x0(n){let e={},t=s(n,["image"]);t!=null&&a(e,["_self"],en(t));let o=s(n,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function k0(n){let e={},t=s(n,["image"]);t!=null&&a(e,["image"],Bi(t));let o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function M0(n){let e={},t=s(n,["image"]);t!=null&&a(e,["image"],en(t));let o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Mm(n){let e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);let o=s(n,["videoBytes"]);o!=null&&a(e,["encodedVideo"],Yn(o));let r=s(n,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function Dm(n){let e={},t=s(n,["uri"]);t!=null&&a(e,["gcsUri"],t);let o=s(n,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Yn(o));let r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}var D0="Content-Type",L0="X-Server-Timeout",U0="User-Agent",Ha="x-goog-api-client",F0="1.29.1",V0=`google-genai-sdk/${F0}`,q0="v1beta1",G0="v1beta",om=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,Ba=class{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:q0,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:G0,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){let r=[this.getRequestUrlInternal(t)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);if(e.queryParams)for(let[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(t))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o,r){if(t&&t.timeout||r){let i=new AbortController,l=i.signal;if(t.timeout&&t?.timeout>0){let u=setTimeout(()=>i.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return t&&t.extraBody!==null&&H0(e,t.extraBody),e.headers=await this.getHeadersInternal(t,o),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await rm(r),new Ko(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await rm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Ot(this,arguments,function*(){let r=(t=e?.body)===null||t===void 0?void 0:t.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){let{done:u,value:c}=yield W(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let d=i.decode(c,{stream:!0});try{let p=JSON.parse(d);if("error"in p){let m=JSON.parse(JSON.stringify(p.error)),g=m.status,_=m.code,E=`got status: ${g}. ${JSON.stringify(p)}`;if(_>=400&&_<600)throw new Fi({message:E,status:_})}}catch(p){if(p.name==="ApiError")throw p}l+=d;let f=l.match(om);for(;f;){let p=f[1];try{let m=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield W(new Ko(m)),l=l.slice(f[0].length),f=l.match(om)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},t=V0+" "+this.clientOptions.userAgentExtra;return e[U0]=t,e[Ha]=t,e[D0]="application/json",e}async getHeadersInternal(e,t){let o=new Headers;if(e&&e.headers){for(let[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(L0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,t),o}getFileName(e){var t;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(t=o.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),o}async uploadFile(e,t){var o;let r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);let u=(o=t?.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;let c={file:r},d=this.getFileName(e),f=x("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,t?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,t,o){var r;let i=this.clientOptions.uploader,l=await i.stat(t),u=String(l.size),c=(r=o?.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),p={};o?.customMetadata&&(p.customMetadata=o.customMetadata),o?.chunkingConfig&&(p.chunkingConfig=o.chunkingConfig);let m=await this.fetchUploadUrl(d,u,c,f,p,o?.httpOptions);return i.uploadToFileSearchStore(t,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function rm(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){let t=n.status,o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};let r=JSON.stringify(o);throw t>=400&&t<600?new Fi({message:r,status:t}):new Error(r)}}function H0(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{let i=JSON.parse(n.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))t=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){let u=Object.assign({},i);for(let c in l)if(Object.prototype.hasOwnProperty.call(l,c)){let d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}let r=o(t,e);n.body=JSON.stringify(r)}var B0="mcp_used/unknown",z0=!1;function Lm(n){for(let e of n)if(J0(e)||typeof e=="object"&&"inputSchema"in e)return!0;return z0}function Um(n){var e;let t=(e=n[Ha])!==null&&e!==void 0?e:"";n[Ha]=(t+` ${B0}`).trimStart()}function J0(n){return n!==null&&typeof n=="object"&&n instanceof za}function $0(n,e=100){return Ot(this,arguments,function*(){let o,r=0;for(;r<e;){let i=yield W(n.listTools({cursor:o}));for(let l of i.tools)yield yield W(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}var za=class n{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new n(e,t)}async initialize(){var e,t,o,r;if(this.mcpTools.length>0)return;let i={},l=[];for(let f of this.mcpClients)try{for(var u=!0,c=(t=void 0,Yo($0(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;let p=r;l.push(p);let m=p.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=f}}catch(p){t={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),nv(this.mcpTools,this.config)}async callTool(e){await this.initialize();let t=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let l=await r.callTool({name:o.name,arguments:o.args},void 0,i);t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}};async function W0(n,e,t){let o=new Ra,r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(o,r),e(o)}var Ja=class{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=Y0(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`,d=()=>{},f=new Promise(v=>{d=v}),p=e.callbacks,m=function(){d({})},g=this.apiClient,_={onopen:m,onmessage:v=>{W0(g,p.onmessage,v)},onerror:(t=p?.onerror)!==null&&t!==void 0?t:function(v){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(v){}},E=this.webSocketFactory.create(c,O0(l),_);E.connect(),await f;let h={setup:{model:V(this.apiClient,e.model)}};return E.send(JSON.stringify(h)),new $a(E,this.apiClient)}},$a=class{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let t=G_(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let t=q_(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){let t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl($t.PLAY)}pause(){this.sendPlaybackControl($t.PAUSE)}stop(){this.sendPlaybackControl($t.STOP)}resetContext(){this.sendPlaybackControl($t.RESET_CONTEXT)}close(){this.conn.close()}};function O0(n){let e={};return n.forEach((t,o)=>{e[o]=t}),e}function Y0(n){let e=new Headers;for(let[t,o]of Object.entries(n))e.append(t,o);return e}var K0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Q0(n,e,t){let o=new Na,r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;let i=JSON.parse(r);if(n.isVertexAI()){let l=z_(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}var Wa=class{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new Ja(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&Lm(e.config.tools)&&Um(p);let m=Z0(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{let A=this.apiClient.getApiKey(),R="BidiGenerateContent",D="key";A?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",D="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${R}?${D}=${A}`}let g=()=>{},_=new Promise(A=>{g=A}),E=e.callbacks,N=function(){var A;(A=E?.onopen)===null||A===void 0||A.call(E),g({})},y=this.apiClient,h={onopen:N,onmessage:A=>{Q0(y,E.onmessage,A)},onerror:(t=E?.onerror)!==null&&t!==void 0?t:function(A){},onclose:(o=E?.onclose)!==null&&o!==void 0?o:function(A){}},v=this.webSocketFactory.create(f,b0(m),h);v.connect(),await _;let T=V(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){let A=this.apiClient.getProject(),R=this.apiClient.getLocation();T=`projects/${A}/locations/${R}/`+T}let C={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ii.AUDIO]}:e.config.responseModalities=[Ii.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let S=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],I=[];for(let A of S)if(this.isCallableTool(A)){let R=A;I.push(await R.tool())}else I.push(A);I.length>0&&(e.config.tools=I);let w={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=V_(this.apiClient,w):C=F_(this.apiClient,w),delete C.config,v.send(JSON.stringify(C)),new Oa(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},X0={turnComplete:!0},Oa=class{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=Je(t.turns),e.isVertexAI()||(o=o.map(r=>Gi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(K0)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},X0),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:B_(e)}:t={realtimeInput:H_(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}};function b0(n){let e={};return n.forEach((t,o)=>{e[o]=t}),e}function Z0(n){let e=new Headers;for(let[t,o]of Object.entries(n))e.append(t,o);return e}var im=10;function sm(n){var e,t,o;if(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let l of(t=n?.tools)!==null&&t!==void 0?t:[])if(Yt(l)){r=!0;break}if(!r)return!0;let i=(o=n?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Yt(n){return"callTool"in n&&typeof n.callTool=="function"}function j0(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Yt(r)))!==null&&o!==void 0?o:!1}function lm(n){var e;let t=[];return!((e=n?.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,r)=>{if(Yt(o))return;let i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&t.push(r)}),t}function am(n){var e;return!(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var Ya=class extends je{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,r,i,l,u;let c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!j0(t)||sm(t.config))return await this.generateContentInternal(c);let d=lm(t);if(d.length>0){let E=d.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,p,m=Je(c.contents),g=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:im,_=0;for(;_<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){let E=f.candidates[0].content,N=[];for(let y of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Yt(y)){let v=await y.callTool(f.functionCalls);N.push(...v)}_++,p={role:"user",parts:N},c.contents=Je(c.contents),c.contents.push(E),c.contents.push(p),am(c.config)&&(m.push(E),m.push(p))}return am(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async t=>{if(this.maybeMoveToResponseJsonSchem(t),sm(t.config)){let r=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(r)}let o=lm(t);if(o.length>0){let r=o.map(i=>`tools[${i}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var r;let i,l=[];if(o?.generatedImages)for(let c of o.generatedImages)c&&c?.safetyAttributes&&((r=c?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c?.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async t=>{var o;let l={config:Object.assign(Object.assign({},{queryBase:!0}),t?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Tn(En.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{let o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));let r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var o,r,i,l,u,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(i=t.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=t.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,o,r;let i=(t=e.config)===null||t===void 0?void 0:t.tools;if(!i)return e;let l=await Promise.all(i.map(async c=>Yt(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Lm(e.config.tools)){let c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Um(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var t,o,r;let i=new Map;for(let l of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Yt(l)){let u=l,c=await u.tool();for(let d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var t,o,r;let i=(r=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:im,l=!1,u=0,c=await this.initAfcToolsMap(e);return function(d,f,p){var m,g;return Ot(this,arguments,function*(){for(var _,E,N,y;u<i;){l&&(u++,l=!1);let C=yield W(d.processParamsMaybeAddMcpUsage(p)),S=yield W(d.generateContentStreamInternal(C)),I=[],w=[];try{for(var h=!0,v=(E=void 0,Yo(S)),T;T=yield W(v.next()),_=T.done,!_;h=!0){y=T.value,h=!1;let A=y;if(yield yield W(A),A.candidates&&(!((m=A.candidates[0])===null||m===void 0)&&m.content)){w.push(A.candidates[0].content);for(let R of(g=A.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<i&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(R.functionCall.name)){let D=yield W(f.get(R.functionCall.name).callTool([R.functionCall]));I.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(A){E={error:A}}finally{try{!h&&!_&&(N=v.return)&&(yield W(N.call(v)))}finally{if(E)throw E.error}}if(I.length>0){l=!0;let A=new pt;A.candidates=[{content:{role:"user",parts:I}}],yield yield W(A);let R=[];R.push(...w),R.push({role:"user",parts:I});let D=Je(p.contents).concat(R);p.contents=D}else break}})}(this,c,e)}async generateContentInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=em(this.apiClient,e);return u=x("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=tm(f),m=new pt;return Object.assign(m,p),m})}else{let d=jp(this.apiClient,e);return u=x("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=nm(f),m=new pt;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=em(this.apiClient,e);return u=x("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Ot(this,arguments,function*(){var m,g,_,E;try{for(var N=!0,y=Yo(p),h;h=yield W(y.next()),m=h.done,!m;N=!0){E=h.value,N=!1;let v=E,T=tm(yield W(v.json()));T.sdkHttpResponse={headers:v.headers};let C=new pt;Object.assign(C,T),yield yield W(C)}}catch(v){g={error:v}}finally{try{!N&&!m&&(_=y.return)&&(yield W(_.call(y)))}finally{if(g)throw g.error}}})})}else{let d=jp(this.apiClient,e);return u=x("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Ot(this,arguments,function*(){var m,g,_,E;try{for(var N=!0,y=Yo(p),h;h=yield W(y.next()),m=h.done,!m;N=!0){E=h.value,N=!1;let v=E,T=nm(yield W(v.json()));T.sdkHttpResponse={headers:v.headers};let C=new pt;Object.assign(C,T),yield yield W(C)}}catch(v){g={error:v}}finally{try{!N&&!m&&(_=y.return)&&(yield W(_.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=vE(this.apiClient,e);return u=x("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=EE(f),m=new wi;return Object.assign(m,p),m})}else{let d=yE(this.apiClient,e);return u=x("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=_E(f),m=new wi;return Object.assign(m,p),m})}}async generateImagesInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=RE(this.apiClient,e);return u=x("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=kE(f),m=new Ai;return Object.assign(m,p),m})}else{let d=NE(this.apiClient,e);return u=x("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=xE(f),m=new Ai;return Object.assign(m,p),m})}}async editImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){let u=pE(this.apiClient,e);return i=x("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=mE(c),f=new ga;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){let u=A0(this.apiClient,e);return i=x("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=P0(c),f=new ya;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){let u=a0(this.apiClient,e);return i=x("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=u0(c),f=new va;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){let u=h0(this.apiClient,e);return i=x("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=g0(c),f=new _a;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=KE(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ga(f))}else{let d=YE(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>qa(f))}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=n0(this.apiClient,e);return u=x("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=o0(f),m=new Pi;return Object.assign(m,p),m})}else{let d=e0(this.apiClient,e);return u=x("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=t0(f),m=new Pi;return Object.assign(m,p),m})}}async update(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=I0(this.apiClient,e);return u=x("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ga(f))}else{let d=S0(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>qa(f))}}async delete(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=uE(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=dE(f),m=new Ni;return Object.assign(m,p),m})}else{let d=aE(this.apiClient,e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=cE(f),m=new Ni;return Object.assign(m,p),m})}}async countTokens(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=iE(this.apiClient,e);return u=x("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=lE(f),m=new Ri;return Object.assign(m,p),m})}else{let d=rE(this.apiClient,e);return u=x("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=sE(f),m=new Ri;return Object.assign(m,p),m})}}async computeTokens(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){let u=b_(this.apiClient,e);return i=x("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=Z_(c),f=new Ea;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=VE(this.apiClient,e);return u=x("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{let p=UE(f),m=new xi;return Object.assign(m,p),m})}else{let d=FE(this.apiClient,e);return u=x("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{let p=LE(f),m=new xi;return Object.assign(m,p),m})}}};var Ka=class extends je{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=t.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=t.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=zy(e);return u=x("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{let d=By(e);return u=x("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){let u=Ly(e);return i=x("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function eT(n){let e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function nT(n){let e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>uT(i))),a(e,["parts"],r)}let o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function tT(n,e,t){let o={},r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);let i=s(e,["newSessionExpireTime"]);t!==void 0&&i!=null&&a(t,["newSessionExpireTime"],i);let l=s(e,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);let u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],aT(n,u));let c=s(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&a(t,["fieldMask"],c),o}function oT(n,e){let t={},o=s(e,["config"]);return o!=null&&a(t,["config"],tT(n,o,t)),t}function rT(n){let e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);let o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function iT(n){let e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function sT(n){let e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function lT(n,e){let t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);let r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);let i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);let l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);let u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);let c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);let d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);let f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);let p=s(n,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],uu(p));let m=s(n,["thinkingConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","thinkingConfig"],m);let g=s(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);let _=s(n,["systemInstruction"]);e!==void 0&&_!=null&&a(e,["setup","systemInstruction"],nT(he(_)));let E=s(n,["tools"]);if(e!==void 0&&E!=null){let S=Qt(E);Array.isArray(S)&&(S=S.map(I=>dT(Kt(I)))),a(e,["setup","tools"],S)}let N=s(n,["sessionResumption"]);e!==void 0&&N!=null&&a(e,["setup","sessionResumption"],cT(N));let y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);let h=s(n,["outputAudioTranscription"]);e!==void 0&&h!=null&&a(e,["setup","outputAudioTranscription"],h);let v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);let T=s(n,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);let C=s(n,["proactivity"]);return e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),t}function aT(n,e){let t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],V(n,o));let r=s(e,["config"]);return r!=null&&a(t,["config"],lT(r,t)),t}function uT(n){let e={},t=s(n,["functionCall"]);t!=null&&a(e,["functionCall"],t);let o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);let r=s(n,["executableCode"]);r!=null&&a(e,["executableCode"],r);let i=s(n,["fileData"]);i!=null&&a(e,["fileData"],rT(i));let l=s(n,["functionResponse"]);l!=null&&a(e,["functionResponse"],l);let u=s(n,["inlineData"]);u!=null&&a(e,["inlineData"],eT(u));let c=s(n,["text"]);c!=null&&a(e,["text"],c);let d=s(n,["thought"]);d!=null&&a(e,["thought"],d);let f=s(n,["thoughtSignature"]);f!=null&&a(e,["thoughtSignature"],f);let p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function cT(n){let e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dT(n){let e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);let r=s(n,["computerUse"]);r!=null&&a(e,["computerUse"],r);let i=s(n,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);let l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],iT(u));let c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],sT(c));let d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function fT(n){let e=[];for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${t}.${i}`);e.push(...r)}else e.push(t)}return e.join(",")}function pT(n,e){let t=null,o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(n.bidiGenerateContentSetup=i,t=i):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;let r=n.fieldMask;if(t){let i=fT(t);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?n.fieldMask=i:delete n.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));let c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}var Qa=class extends je{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let u=oT(this.apiClient,e);i=x("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;let c=pT(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}};function mT(n,e){let t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),t}function hT(n){let e={},t=s(n,["config"]);return t!=null&&mT(t,e),e}function gT(n,e){let t={},o=s(n,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),t}function yT(n){let e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);let o=s(n,["config"]);return o!=null&&gT(o,e),e}function vT(n){let e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function _T(n,e){let t={},o=s(n,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}let r=s(n,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),t}function ET(n){let e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);let o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);let r=s(n,["done"]);r!=null&&a(e,["done"],r);let i=s(n,["error"]);i!=null&&a(e,["error"],i);let l=s(n,["response"]);return l!=null&&a(e,["response"],CT(l)),e}function TT(n){let e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);let o=s(n,["fileName"]);o!=null&&a(e,["fileName"],o);let r=s(n,["config"]);return r!=null&&_T(r,e),e}function CT(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["parent"]);o!=null&&a(e,["parent"],o);let r=s(n,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function ST(n,e){let t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);let r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function IT(n){let e={},t=s(n,["config"]);return t!=null&&ST(t,e),e}function wT(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function AT(n,e){let t={},o=s(n,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);let r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);let i=s(n,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}let l=s(n,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),t}function PT(n){let e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);let o=s(n,["config"]);return o!=null&&AT(o,e),e}function NT(n){let e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function RT(n,e){let t={},o=s(n,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),t}function xT(n){let e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);let o=s(n,["config"]);return o!=null&&RT(o,e),e}function kT(n){let e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function MT(n,e){let t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);let r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function DT(n){let e={},t=s(n,["parent"]);t!=null&&a(e,["_url","parent"],t);let o=s(n,["config"]);return o!=null&&MT(o,e),e}function LT(n){let e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);let o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);let r=s(n,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}var Xa=class extends je{constructor(e){super(),this.apiClient=e,this.list=async t=>new Tn(En.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:t.parent,config:o.config}),await this.listInternal(t),t)}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=kT(e);return i=x("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=xT(e);r=x("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=DT(e);return i=x("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=LT(c),f=new Ta;return Object.assign(f,d),f})}}};var ba=class extends je{constructor(e,t=new Xa(e)){super(),this.apiClient=e,this.documents=t,this.list=async(o={})=>new Tn(En.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=hT(e);return i=x("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=vT(e);return i=x("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=yT(e);r=x("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=IT(e);return i=x("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=wT(c),f=new Ca;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=PT(e);return i=x("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=NT(c),f=new Sa;return Object.assign(f,d),f})}}async importFile(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=TT(e);return i=x("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=ET(c),f=new Ia;return Object.assign(f,d),f})}}};function UT(n,e){let t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function FT(n,e){let t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function VT(n,e,t){let o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=s(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=s(n,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);let l=s(n,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let u=s(n,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);let c=s(n,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function qT(n,e,t){let o={},r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let g=s(n,["validationDataset"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec"],um(g))}else if(r==="PREFERENCE_TUNING"){let g=s(n,["validationDataset"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec"],um(g))}let i=s(n,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);let l=s(n,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let g=s(n,["epochCount"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){let g=s(n,["epochCount"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=s(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){let g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let d=s(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let g=s(n,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(d==="PREFERENCE_TUNING"){let g=s(n,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=s(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let g=s(n,["adapterSize"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){let g=s(n,["adapterSize"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=s(n,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);let m=s(n,["beta"]);return e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function GT(n,e){let t={},o=s(n,["baseModel"]);o!=null&&a(t,["baseModel"],o);let r=s(n,["preTunedModel"]);r!=null&&a(t,["preTunedModel"],r);let i=s(n,["trainingDataset"]);i!=null&&XT(i);let l=s(n,["config"]);return l!=null&&VT(l,t),t}function HT(n,e){let t={},o=s(n,["baseModel"]);o!=null&&a(t,["baseModel"],o);let r=s(n,["preTunedModel"]);r!=null&&a(t,["preTunedModel"],r);let i=s(n,["trainingDataset"]);i!=null&&bT(i,t,e);let l=s(n,["config"]);return l!=null&&qT(l,t,e),t}function BT(n,e){let t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function zT(n,e){let t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function JT(n,e,t){let o={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);let i=s(n,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);let l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function $T(n,e,t){let o={},r=s(n,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);let i=s(n,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);let l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function WT(n,e){let t={},o=s(n,["config"]);return o!=null&&JT(o,t),t}function OT(n,e){let t={},o=s(n,["config"]);return o!=null&&$T(o,t),t}function YT(n,e){let t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);let r=s(n,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);let i=s(n,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Fm(u))),a(t,["tuningJobs"],l)}return t}function KT(n,e){let t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);let r=s(n,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);let i=s(n,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Za(u))),a(t,["tuningJobs"],l)}return t}function QT(n,e){let t={},o=s(n,["name"]);o!=null&&a(t,["model"],o);let r=s(n,["name"]);return r!=null&&a(t,["endpoint"],r),t}function XT(n,e){let t={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=s(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["examples","examples"],r)}return t}function bT(n,e,t){let o={},r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){let l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){let l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Fm(n,e){let t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);let r=s(n,["name"]);r!=null&&a(t,["name"],r);let i=s(n,["state"]);i!=null&&a(t,["state"],ym(i));let l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);let u=s(n,["tuningTask","startTime"]);u!=null&&a(t,["startTime"],u);let c=s(n,["tuningTask","completeTime"]);c!=null&&a(t,["endTime"],c);let d=s(n,["updateTime"]);d!=null&&a(t,["updateTime"],d);let f=s(n,["description"]);f!=null&&a(t,["description"],f);let p=s(n,["baseModel"]);p!=null&&a(t,["baseModel"],p);let m=s(n,["_self"]);return m!=null&&a(t,["tunedModel"],QT(m)),t}function Za(n,e){let t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);let r=s(n,["name"]);r!=null&&a(t,["name"],r);let i=s(n,["state"]);i!=null&&a(t,["state"],ym(i));let l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);let u=s(n,["startTime"]);u!=null&&a(t,["startTime"],u);let c=s(n,["endTime"]);c!=null&&a(t,["endTime"],c);let d=s(n,["updateTime"]);d!=null&&a(t,["updateTime"],d);let f=s(n,["error"]);f!=null&&a(t,["error"],f);let p=s(n,["description"]);p!=null&&a(t,["description"],p);let m=s(n,["baseModel"]);m!=null&&a(t,["baseModel"],m);let g=s(n,["tunedModel"]);g!=null&&a(t,["tunedModel"],g);let _=s(n,["preTunedModel"]);_!=null&&a(t,["preTunedModel"],_);let E=s(n,["supervisedTuningSpec"]);E!=null&&a(t,["supervisedTuningSpec"],E);let N=s(n,["preferenceOptimizationSpec"]);N!=null&&a(t,["preferenceOptimizationSpec"],N);let y=s(n,["tuningDataStats"]);y!=null&&a(t,["tuningDataStats"],y);let h=s(n,["encryptionSpec"]);h!=null&&a(t,["encryptionSpec"],h);let v=s(n,["partnerModelTuningSpec"]);v!=null&&a(t,["partnerModelTuningSpec"],v);let T=s(n,["customBaseModel"]);T!=null&&a(t,["customBaseModel"],T);let C=s(n,["experiment"]);C!=null&&a(t,["experiment"],C);let S=s(n,["labels"]);S!=null&&a(t,["labels"],S);let I=s(n,["outputUri"]);I!=null&&a(t,["outputUri"],I);let w=s(n,["pipelineJob"]);w!=null&&a(t,["pipelineJob"],w);let A=s(n,["serviceAccount"]);A!=null&&a(t,["serviceAccount"],A);let R=s(n,["tunedModelDisplayName"]);R!=null&&a(t,["tunedModelDisplayName"],R);let D=s(n,["veoTuningSpec"]);return D!=null&&a(t,["veoTuningSpec"],D),t}function ZT(n,e){let t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);let r=s(n,["name"]);r!=null&&a(t,["name"],r);let i=s(n,["metadata"]);i!=null&&a(t,["metadata"],i);let l=s(n,["done"]);l!=null&&a(t,["done"],l);let u=s(n,["error"]);return u!=null&&a(t,["error"],u),t}function um(n,e){let t={},o=s(n,["gcsUri"]);o!=null&&a(t,["validationDatasetUri"],o);let r=s(n,["vertexDatasetResource"]);return r!=null&&a(t,["validationDatasetUri"],r),t}var ja=class extends je{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Tn(En.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){let r={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},t),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},t);return await this.tuneInternal(r)}else{let r=Object.assign({},t),i=await this.tuneMldevInternal(r),l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:ha.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=zT(e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Za(f))}else{let d=BT(e);return u=x("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Fm(f))}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){let d=OT(e);return u=x("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=KT(f),m=new ki;return Object.assign(m,p),m})}else{let d=WT(e);return u=x("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{let p=YT(f),m=new ki;return Object.assign(m,p),m})}}async cancel(e){var t,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){let c=FT(e);l=x("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=UT(e);l=x("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){let u=HT(e,e);return i=x("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Za(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=GT(e);return i=x("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>ZT(c))}}};var eu=class{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},jT=1024*1024*8,eC=3,nC=1e3,tC=2,Vi="x-goog-upload-status";async function oC(n,e,t){var o;let r=await Vm(n,e,t),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Vi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function rC(n,e,t){var o;let r=await Vm(n,e,t),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Vi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let l=dm(i),u=new xa;return Object.assign(u,l),u}async function Vm(n,e,t){var o,r;let i=0,l=0,u=new Ko(new Response),c="upload";for(i=n.size;l<i;){let d=Math.min(jT,i-l),f=n.slice(l,l+d);l+d>=i&&(c+=", finalize");let p=0,m=nC;for(;p<eC&&(u=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u?.headers)===null||o===void 0)&&o[Vi]));)p++,await sC(m),m=m*tC;if(l+=d,((r=u?.headers)===null||r===void 0?void 0:r[Vi])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function iC(n){return{size:n.size,type:n.type}}function sC(n){return new Promise(e=>setTimeout(e,n))}var nu=class{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oC(e,t,o)}async uploadToFileSearchStore(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rC(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iC(e)}};var tu=class{create(e,t,o){return new ou(e,t,o)}},ou=class{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var cm="x-goog-api-key",ru=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(cm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(cm,this.apiKey)}}};var lC="gl-node/",qi=class{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;let o=My(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;let r=new ru(this.apiKey);this.apiClient=new Ba({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:lC+"web",uploader:new nu,downloader:new eu}),this.models=new Ya(this.apiClient),this.live=new Wa(this.apiClient,r,new tu),this.batches=new Da(this.apiClient),this.chats=new Ua(this.models,this.apiClient),this.caches=new La(this.apiClient),this.files=new Va(this.apiClient),this.operations=new Ka(this.apiClient),this.authTokens=new Qa(this.apiClient),this.tunings=new ja(this.apiClient),this.fileSearchStores=new ba(this.apiClient)}};var qm=()=>{throw new Error("API_KEY environment variable not set")},Gm=async n=>{let e=n.filter(u=>!u.isCorrect&&u.userAnswer.toLowerCase()!=="no respondi\xF3");if(e.length===0)return"\xA1Genial! No hemos detectado errores recientes o no has corregido ning\xFAn ejercicio. \xA1Sigue practicando!";let t=qm(),o=`Errores detectados en la pr\xE1ctica de Subjuntivo (con conjugaciones y contextos):

`,r=e.slice(-10);r.forEach((u,c)=>{o+=`[Error #${c+1}] Ejercicio: ${u.exerciseId} (Pregunta: ${u.question||"N/A"})
`,o+=`- Tu Respuesta: "${u.userAnswer}"
`,o+=`- Respuesta Correcta: "${u.correctAnswer}"

`});let i="Act\xFAa como un tutor de espa\xF1ol B1 experto, amigable y motivador. Tu objetivo es analizar los errores del estudiante. Identifica el patr\xF3n de error m\xE1s frecuente (ej. 'Confunde Indicativo con Subjuntivo', 'Error en irregulares como ser/ir/haber'). Ofrece una explicaci\xF3n concisa (m\xE1ximo 4 frases) y muy clara sobre la regla que se est\xE1 fallando y un consejo pr\xE1ctico. Muestra \xE1nimo al estudiante. El output debe ser solo el texto del an\xE1lisis. Usa p\xE1rrafos para separar ideas.",l=`Analiza los siguientes ${r.length} errores, identifica el patr\xF3n principal y explica la regla de forma simple:

${o}`;try{let c=(await t.models.generateContent({model:"gemini-2.5-flash",contents:l,systemInstruction:i})).text;if(!c)throw new Error("API response missing text content.");return c}catch(u){throw console.error("Gemini API Error:",u),new Error("Failed to get response from Gemini API.")}},zi=async(n,e,t=3)=>{let o=qm();try{let r=await o.models.generateContent({model:"gemini-2.5-flash",contents:e,systemInstruction:n}),i=r.text;if(i)return i;{let l=r?.promptFeedback;throw l&&l.blockReason?new Error(`Contenido bloqueado: ${l.blockReason}`):new Error("La IA no devolvi\xF3 una respuesta v\xE1lida.")}}catch(r){if(console.error("Error in getTutorResponse:",r),t>0){let i=Math.pow(2,3-t)*1e3;return await new Promise(l=>setTimeout(l,i)),zi(n,e,t-1)}else throw r}};var Z=q(X()),mC=({label:n,score:e})=>(0,Z.jsxs)("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-xl shadow-md",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-gray-700 block",children:n}),(0,Z.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[e.correct," / ",e.attempted]})]}),hC=({scores:n,userLevel:e,totalCorrectAnswers:t})=>{let o={ejercicio1:"Forma N1",ejercicio2:"Forma N2",ejercicio3:"Contraste",ejercicio4:"Dispar. N1",ejercicio5:"Dispar. N2",ejercicio6:"Ordenar",ejercicio7:"Errores"},r=Wn.find(u=>u.levelNumber===e)||Wn[0],i=Wn.find(u=>u.levelNumber===e+1),l=i?Math.max(0,Math.min(100,(t-r.unlockThreshold)/(i.unlockThreshold-r.unlockThreshold)*100)):100;return(0,Z.jsxs)("header",{className:"app-container mb-8",children:[(0,Z.jsx)("h1",{className:"font-kalam text-4xl text-center font-bold text-blue-800 mb-2",children:"Plataforma de Pr\xE1ctica: Subjuntivo B1"}),(0,Z.jsx)("p",{className:"text-lg text-gray-600 text-center",children:"Ejercicios esenciales para la ciudadan\xEDa y la vida diaria. \xA1Con feedback personalizado de IA!"}),(0,Z.jsxs)("div",{className:"mt-6 pt-4 border-t border-blue-100",children:[(0,Z.jsx)("h3",{className:"text-lg font-semibold text-blue-700 mb-3",children:"Progreso General"}),(0,Z.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Z.jsx)("div",{className:"bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl shadow-lg",children:e}),(0,Z.jsxs)("div",{className:"w-full",children:[(0,Z.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Z.jsx)("span",{className:"text-sm font-semibold text-blue-700",children:r.title}),i&&(0,Z.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["Siguiente nivel en ",Math.max(0,i.unlockThreshold-t)," pts"]})]}),(0,Z.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:(0,Z.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${l}%`}})})]})]})]}),(0,Z.jsxs)("div",{className:"mt-6 pt-4 border-t border-blue-100",children:[(0,Z.jsx)("h3",{className:"text-lg font-semibold text-blue-700 mb-3",children:"Puntuaci\xF3n de la Sesi\xF3n"}),(0,Z.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-3 text-center",children:Object.keys(n).map(u=>(0,Z.jsx)(mC,{label:o[u],score:n[u]},u))})]})]})},Jm=hC;var Qo=q(X()),gC=()=>(0,Qo.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Qo.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Qo.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),$m=gC;var Le=q(X()),yC=({onGetFeedback:n,feedback:e,isLoading:t,attempts:o})=>{let r=o.some(i=>!i.isCorrect);return(0,Le.jsxs)("div",{className:"app-container mb-8",children:[(0,Le.jsx)("h2",{className:"font-kalam text-3xl font-bold text-blue-800 mb-4",children:"An\xE1lisis de Errores"}),(0,Le.jsx)("p",{className:"text-gray-600 mb-4",children:"Cuando acumules errores, la IA detectar\xE1 patrones y te dar\xE1 consejos personalizados."}),(0,Le.jsxs)("button",{onClick:n,disabled:t||!r,className:"btn-primary w-full sm:w-auto",children:[t&&(0,Le.jsx)($m,{}),(0,Le.jsx)("span",{children:t?"Analizando...":"Pedir An\xE1lisis a la IA"})]}),e&&(0,Le.jsxs)("div",{className:"mt-6 p-6 rounded-xl shadow-lg bg-white border-l-8 border-orange-500",children:[(0,Le.jsxs)("p",{className:"text-lg font-bold text-orange-600 mb-2 flex items-center",children:[(0,Le.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Le.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Tutor IA: Diagn\xF3stico de Errores"]}),(0,Le.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e})]})]})},Wm=yC;var Kn=q(X()),vC=[{id:"ejercicio1",label:"1. Forma N1"},{id:"ejercicio2",label:"2. Forma N2"},{id:"ejercicio3",label:"3. Contraste"},{id:"ejercicio4",label:"4. Disparadores N1"},{id:"ejercicio5",label:"5. Disparadores N2"},{id:"ejercicio6",label:"6. Ordenar Frase"},{id:"ejercicio7",label:"7. Identificar Error"}],_C=()=>(0,Kn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-2 opacity-70",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Kn.jsx)("path",{fillRule:"evenodd",d:"M10 2a3 3 0 00-3 3v1H6a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V8a2 2 0 00-2-2h-1V5a3 3 0 00-3-3zm-1 4V5a1 1 0 112 0v1H9z",clipRule:"evenodd"})}),EC=({activeTab:n,onTabChange:e,userLevel:t})=>{let o=Wn.find(i=>i.levelNumber===t),r=o?o.availableExercises:[];return(0,Kn.jsx)("div",{className:"-mb-px border-b-2 border-gray-200",children:(0,Kn.jsx)("nav",{className:"flex flex-wrap -mb-px px-2",children:vC.map(i=>{let l=!r.includes(i.id);return(0,Kn.jsxs)("button",{onClick:()=>!l&&e(i.id),disabled:l,className:`flex items-center py-4 px-4 text-sm sm:text-base border-b-4 transition duration-150 ${n===i.id?"border-blue-600 text-blue-700 font-bold":"border-transparent text-gray-600"} ${l?"text-gray-400 cursor-not-allowed":"hover:text-blue-700"}`,children:[i.label,l&&(0,Kn.jsx)(_C,{})]},i.id)})})})},Om=EC;var $i=q(un());var Qn=q(un()),U=q(X()),TC=({shuffledWords:n,isSubmitted:e,onAnswerChange:t})=>{let[o,r]=(0,Qn.useState)([]),[i,l]=(0,Qn.useState)([]);(0,Qn.useEffect)(()=>{r([]),l(n||[])},[n]);let u=(0,Qn.useCallback)(t,[t]);(0,Qn.useEffect)(()=>{u(o.join(" "))},[o,u]);let c=(f,p)=>{e||(r(m=>[...m,f]),l(m=>m.filter((g,_)=>_!==p)))},d=(f,p)=>{e||(l(m=>[...m,f]),r(m=>m.filter((g,_)=>_!==p)))};return(0,U.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,U.jsxs)("div",{className:"p-3 border-2 border-dashed border-gray-300 rounded-lg min-h-[50px] bg-white flex flex-wrap gap-2 items-center",children:[o.length===0&&(0,U.jsx)("span",{className:"text-gray-400 italic",children:"Construye la frase aqu\xED..."}),o.map((f,p)=>(0,U.jsx)("button",{onClick:()=>d(f,p),disabled:e,className:"px-3 py-1 bg-blue-200 text-blue-800 font-semibold rounded-md shadow-sm hover:bg-blue-300 transition-colors disabled:cursor-not-allowed",children:f},p))]}),(0,U.jsx)("div",{className:"p-3 border rounded-lg min-h-[50px] bg-gray-100 flex flex-wrap gap-2 items-center",children:i.map((f,p)=>(0,U.jsx)("button",{onClick:()=>c(f,p),disabled:e,className:"px-3 py-1 bg-white text-gray-800 font-semibold rounded-md shadow-sm border border-gray-300 hover:bg-gray-200 transition-colors disabled:cursor-not-allowed",children:f},p))})]})},CC=({exerciseId:n,index:e,question:t,type:o,userAnswer:r,isSubmitted:i,isCorrect:l,onAnswerChange:u})=>{let c=()=>{if(t.verb){let f=t.verb.match(/\((.*?)\)/);if(f){let p=f[1].split(",").map(m=>m.trim());return p[p.length-1]}return t.verb}return"Verbo"},d=["p-4","bg-gray-50","rounded-xl","shadow-inner","transition-colors","duration-300",i?l?"border-l-4 border-green-500":"border-l-4 border-red-500":""].join(" ");return(0,U.jsxs)("div",{className:d,children:[(0,U.jsxs)("div",{className:"text-base font-medium text-gray-800 mb-1 flex items-center flex-wrap",children:[(0,U.jsxs)("span",{className:"mr-2",children:[e+1,"."]}),o==="input"&&t.sentence&&t.sentence.includes("__________")?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:t.sentence.split("__________")[0]}}),(0,U.jsx)("input",{type:"text",placeholder:c(),value:r,onChange:f=>u(e,f.target.value),disabled:i,className:`input-styled mx-2 ${i&&!l?"incorrect":""}`}),(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:t.sentence.split("__________")[1]||""}})]}):o==="input"?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:`Conjugaci\xF3n de <strong>${t.verb}</strong>:`}}),(0,U.jsx)("input",{type:"text",placeholder:c(),value:r,onChange:f=>u(e,f.target.value),disabled:i,className:`input-styled mx-2 ${i&&!l?"incorrect":""}`})]}):(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:t.sentence||`Conjugaci\xF3n de <strong>${t.verb}</strong>:`}})]}),o==="radio"&&t.shuffledOptions&&(0,U.jsx)("div",{className:"space-y-2 mt-2",children:t.shuffledOptions.map((f,p)=>(0,U.jsxs)("label",{className:"flex items-center space-x-3 text-gray-700 cursor-pointer p-2 hover:bg-white rounded-md transition duration-150",children:[(0,U.jsx)("input",{type:"radio",name:`${n}-q${e}`,value:f,checked:r===f,onChange:m=>u(e,m.target.value),disabled:i,className:"text-blue-600 focus:ring-blue-500 h-5 w-5"}),(0,U.jsx)("span",{className:i&&!l&&r===f?"line-through text-red-500":"",children:f})]},p))}),o==="ordering"&&t.shuffledWords&&(0,U.jsx)(TC,{shuffledWords:t.shuffledWords,isSubmitted:i,onAnswerChange:f=>u(e,f)}),i&&(0,U.jsx)("div",{className:"mt-2 text-sm font-medium",children:l?(0,U.jsx)("span",{className:"text-emerald-600 font-bold",children:"\u2705 \xA1Correcto!"}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("span",{className:"text-red-500 font-bold",children:"\u274C Incorrecto. "}),(0,U.jsxs)("span",{className:"text-gray-600",children:["La respuesta correcta es: ",(0,U.jsx)("strong",{children:t.answer}),"."]})]})})]})},Ym=CC;var $e=q(X()),SC=({id:n,config:e,questions:t,result:o,onCheck:r,onGenerate:i})=>{let[l,u]=(0,$i.useState)({});(0,$i.useEffect)(()=>{u({})},[t]);let c=(p,m)=>{u(g=>({...g,[p]:m}))},d=()=>{r(n,l)},f=()=>{if(!o||!o.isSubmitted)return null;let p,m,g;return o.correctCount===o.total?(p="bg-green-100",m="text-green-800",g=`\u{1F389} \xA1Excelente! ${o.correctCount} de ${o.total} correctas. \xA1Sigue as\xED!`):o.correctCount>0?(p="bg-yellow-100",m="text-yellow-800",g=`\xA1Buen trabajo! Has acertado ${o.correctCount} de ${o.total}. Revisa tus errores.`):(p="bg-red-100",m="text-red-800",g=`Sigue practicando. Has acertado 0 de ${o.total}. Mira las respuestas correctas.`),(0,$e.jsx)("div",{className:`mt-6 p-4 rounded-xl text-lg font-medium ${p} ${m}`,children:g})};return(0,$e.jsxs)("div",{className:"space-y-6",children:[(0,$e.jsx)("h2",{className:"font-kalam text-3xl font-bold text-blue-800 border-b-2 border-blue-100 pb-2",children:e.title}),(0,$e.jsx)("p",{className:"text-gray-700",children:e.description}),(0,$e.jsx)("div",{className:"space-y-5",children:t.map((p,m)=>(0,$e.jsx)(Ym,{exerciseId:n,index:m,question:p,type:e.type,userAnswer:l[m]||"",isSubmitted:o?.isSubmitted||!1,isCorrect:o?.results[m],onAnswerChange:c},m))}),(0,$e.jsxs)("div",{className:"flex flex-wrap gap-4 mt-8",children:[(0,$e.jsx)("button",{onClick:d,disabled:o?.isSubmitted,className:"btn-primary flex-1 sm:flex-auto",children:"Corregir"}),(0,$e.jsx)("button",{onClick:i,className:"btn-secondary flex-1 sm:flex-auto",children:"Generar Nuevas"})]}),(0,$e.jsx)(f,{})]})},Km=SC;var Xo=q(X()),IC=({activeView:n,onViewChange:e})=>{let t=o=>{let r="flex-1 text-center py-4 px-6 font-kalam font-bold text-xl transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500";return n===o?`${r} bg-blue-600 text-white shadow-lg rounded-t-lg`:`${r} bg-white text-blue-500 hover:bg-blue-50 rounded-t-lg`};return(0,Xo.jsxs)("div",{className:"flex mb-4 shadow-md rounded-t-lg overflow-hidden",children:[(0,Xo.jsx)("button",{onClick:()=>e("ejercicios"),className:t("ejercicios"),children:"Ejercicios"}),(0,Xo.jsx)("button",{onClick:()=>e("tutor"),className:t("tutor"),children:"Tutor IA"})]})},Qm=IC;var Sn=q(un());var M=q(X()),Xm=`
Eres un asistente amigable de gram\xE1tica espa\xF1ola para estudiantes de nivel B1.
Tu objetivo es ayudarles a practicar el Presente de Subjuntivo.
Tu tono debe ser simple, claro y muy animado.

REGLAS PRINCIPALES:
1.  FILOSOF\xCDA: El subjuntivo se usa para DESEOS, DUDAS, CONSEJOS, u opiniones. No se usa para declarar un hecho (eso es el indicativo). Tu feedback DEBE ser simple.
2.  VARIEDAD DE PERSONAS: \xA1MUY IMPORTANTE! No uses siempre 't\xFA'. Debes variar la persona gramatical en tus ejercicios. Usa '\xE9l', 'ella', 'nosotros', 'ellos', 'yo', etc.

MECANISMO DE EJERCITACI\xD3N:

FASE 1: CREAR TAREA (Tu rol: Tutor)
El usuario te da una "situaci\xF3n" (ej. "mis amigos quieren fiesta").
T\xFA creas un ejercicio de "completar el espacio" basado en la situaci\xF3n y la fase actual.
**Recuerda usar personas diferentes (no solo 't\xFA').**
Ejemplo:
- Usuario (Situaci\xF3n): "mis amigos quieren fiesta"
- Fase: "Deseo"
- Tu Respuesta (Tarea): "\xA1Buena idea! Completa la frase: Espero que mis amigos ________ (hacer) una fiesta incre\xEDble."
(Aqu\xED usaste 'ellos', \xA1perfecto!)
- S\xC9 BREVE. Solo crea la tarea.

FASE 2: CORREGIR TAREA (Tu rol: Corrector)
El usuario te enviar\xE1 la Tarea que creaste Y su respuesta.
Tu DEBES:
1.  Decir "\xA1Correcto!" o "\xA1Casi!" o "Incorrecto".
2.  Dar la respuesta correcta.
3.  Explicar CORTITO por qu\xE9 es subjuntivo (ej. '\xA1es un deseo!', '\xA1es una duda!', 'no es un hecho').
4.  Mencionar la regla (ej. verbos -AR usan -e, -ER/-IR usan -a).
5.  **IMPORTANTE: Usa etiquetas HTML simples (como <b> para negrita, <i> para cursiva, y <br> para saltos de l\xEDnea) para dar formato a tu feedback. No uses Markdown.**
6.  S\xC9 MUY BREVE Y AMIGABLE.

CONFIGURACI\xD3N DE FASES (Simple):
- Fase 1 (Deseo): Foco: Expresar deseos. Palabras clave: "Ojal\xE1 que...", "Espero que...".
- Fase 2 (Consejo/Necesidad): Foco: Dar consejos o decir qu\xE9 es necesario. Palabras clave: "Es importante que...", "Te aconsejo que...".
- Fase 3 (Duda/Incertidumbre): Foco: Expresar duda. Palabras clave: "No creo que...", "Es posible que...".
`,bo={1:{title:"FASE I: DESEOS",description:"Usamos subjuntivo para expresar deseos. Son cosas que queremos, pero no son 100% seguras. Usaremos 'Ojal\xE1 que...' o 'Espero que...'.",prompt_task:"Escribe una situaci\xF3n simple sobre un deseo (ej. 'Mi amigo tiene un examen', 'El clima est\xE1 feo').",matrix:"Ojal\xE1 que / Espero que"},2:{title:"FASE II: CONSEJOS Y NECESIDAD",description:"Usamos subjuntivo para dar consejos, \xF3rdenes o expresar necesidad. La acci\xF3n no es un hecho, es una meta. Usaremos 'Es importante que...' o 'Te aconsejo que...'.",prompt_task:"Escribe una situaci\xF3n donde alguien necesita un consejo (ej. 'Mi hermano come mal', 'Un estudiante no estudia').",matrix:"Es importante que / Te aconsejo que"},3:{title:"FASE III: DUDAS",description:"Usamos subjuntivo para expresar duda. Si no est\xE1s seguro, usas subjuntivo. (Certeza: 'Creo que es...' // Duda: 'No creo que sea...').",prompt_task:"Escribe una situaci\xF3n sobre la que tengas dudas (ej. 'Juan vendr\xE1 a la fiesta', 'Mi jefe est\xE1 en la oficina').",matrix:"No creo que / Es posible que"}},wC=()=>{let[n,e]=(0,Sn.useState)(1),[t,o]=(0,Sn.useState)("welcome"),[r,i]=(0,Sn.useState)(""),[l,u]=(0,Sn.useState)(""),[c,d]=(0,Sn.useState)(""),[f,p]=(0,Sn.useState)(""),[m,g]=(0,Sn.useState)(!1),[_,E]=(0,Sn.useState)(null),N=async()=>{if(!r.trim()){E("Por favor, introduce una situaci\xF3n para continuar.");return}E(null),g(!0);let C=bo[n],S=`
            Fase Actual: ${C.title} (Palabras clave: ${C.matrix})
            Rol: Tutor (Crea una tarea)
            Situaci\xF3n del Usuario: "${r}"
            ---
            Genera el ejercicio de "completar el espacio" AHORA. Recuerda variar la persona gramatical. S\xE9 breve.
        `;try{let I=await zi(Xm,S);u(I),o("feedback_input")}catch(I){E(`Error de la IA: ${I.message}. Int\xE9ntalo de nuevo.`),o("task_input")}finally{g(!1)}},y=async()=>{if(!c.trim()){E("Por favor, escribe tu respuesta al ejercicio.");return}E(null),g(!0);let S=`
            Fase Actual: ${bo[n].title}
            Rol: Corrector (Da feedback)
            ---
            Tarea Original: "${l}"
            Respuesta del Usuario: "${c}"
            ---
            Eval\xFAa la respuesta. Da feedback simple (nivel B1) usando <b>, <i>, <br>.
        `;try{let I=await zi(Xm,S);p(I),o("result")}catch(I){E(`Error de la IA: ${I.message}. Int\xE9ntalo de nuevo.`),o("feedback_input")}finally{g(!1)}},h=()=>{let C=Object.keys(bo).length;n<C?(e(S=>S+1),o("task_input"),i(""),u(""),d(""),p(""),E(null)):o("complete")},v=()=>{e(1),o("welcome"),i(""),u(""),d(""),p(""),E(null)};return(0,M.jsx)("div",{id:"tutor-view",children:(0,M.jsxs)("div",{className:"app-container max-w-3xl mx-auto p-6 md:p-10",children:[(0,M.jsxs)("header",{className:"text-center mb-8",children:[(0,M.jsx)("h1",{className:"font-kalam text-4xl md:text-5xl font-bold text-blue-700",children:"Tutor de Subjuntivo"}),(0,M.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Nivel B1: \xA1Practica como en tu cuaderno!"})]}),m&&(0,M.jsxs)("div",{className:"text-center p-10",children:[(0,M.jsx)("div",{className:"loader mx-auto"}),(0,M.jsx)("p",{className:"mt-4 text-gray-600",children:"La IA est\xE1 pensando..."})]}),_&&(0,M.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-4",role:"alert",children:[(0,M.jsx)("strong",{className:"font-bold",children:"\xA1Error!"}),(0,M.jsx)("span",{className:"block sm:inline ml-2",children:_})]}),!m&&(0,M.jsx)("main",{children:(()=>{let C=bo[n];switch(t){case"welcome":return(0,M.jsxs)("div",{className:"text-center",children:[(0,M.jsx)("p",{className:"mb-8 text-lg text-gray-700",children:"Vamos a practicar el subjuntivo en 3 situaciones comunes: Deseos, Consejos y Dudas."}),(0,M.jsx)("button",{onClick:()=>o("task_input"),className:"btn-primary",children:"EMPEZAR FASE I"})]});case"task_input":return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h2",{className:"phase-title mb-4 text-center",children:C.title}),(0,M.jsx)("p",{className:"mb-6 text-gray-700 text-center",children:C.description}),(0,M.jsx)("label",{htmlFor:"situation-input",className:"block mb-2 font-semibold text-gray-800",children:C.prompt_task}),(0,M.jsx)("textarea",{id:"situation-input",className:"input-primary",rows:3,placeholder:"Escribe tu situaci\xF3n aqu\xED...",value:r,onChange:I=>i(I.target.value)}),(0,M.jsx)("div",{className:"text-center",children:(0,M.jsx)("button",{onClick:N,disabled:m,className:"btn-primary mt-4",children:"GENERAR EJERCICIO"})})]});case"feedback_input":return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h2",{className:"phase-title mb-4 text-center",children:C.title}),(0,M.jsx)("p",{className:"mb-2 font-semibold",children:"Tu situaci\xF3n:"}),(0,M.jsxs)("p",{className:"mb-4 p-3 bg-gray-50 border rounded-lg text-gray-800",children:['"',r,'"']}),(0,M.jsx)("hr",{className:"my-6 border-gray-200"}),(0,M.jsx)("label",{htmlFor:"answer-input",className:"block mb-3 font-semibold text-gray-800",children:"Tarea del Tutor (IA):"}),(0,M.jsx)("div",{className:"ai-feedback",children:(0,M.jsx)("p",{children:l})}),(0,M.jsx)("textarea",{id:"answer-input",className:"input-primary mt-4",rows:3,placeholder:"Escribe tu respuesta completa aqu\xED...",value:c,onChange:I=>d(I.target.value)}),(0,M.jsx)("div",{className:"text-center",children:(0,M.jsx)("button",{onClick:y,disabled:m,className:"btn-primary mt-4",children:"CORREGIR MI RESPUESTA"})})]});case"result":let S=n===Object.keys(bo).length;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h2",{className:"phase-title mb-4 text-center",children:C.title}),(0,M.jsx)("p",{className:"mb-2 font-semibold",children:"Tu respuesta:"}),(0,M.jsxs)("p",{className:"mb-4 p-3 bg-gray-50 border rounded-lg text-gray-800",children:['"',c,'"']}),(0,M.jsx)("hr",{className:"my-6 border-gray-200"}),(0,M.jsx)("p",{className:"mb-3 font-semibold text-gray-800",children:"Feedback del Tutor (IA):"}),(0,M.jsx)("div",{className:"ai-feedback",dangerouslySetInnerHTML:{__html:f}}),(0,M.jsx)("div",{className:"text-center",children:(0,M.jsx)("button",{onClick:h,className:"btn-primary mt-6",children:S?"FINALIZAR TUTORIAL":"SIGUIENTE FASE"})})]});case"complete":return(0,M.jsxs)("div",{className:"text-center",children:[(0,M.jsx)("h2",{className:"phase-title text-3xl mb-4 text-blue-700",children:"\xA1FELICIDADES!"}),(0,M.jsx)("p",{className:"mb-6 text-lg text-gray-700",children:"Has completado las tres fases. Has practicado Deseos, Consejos y Dudas."}),(0,M.jsx)("p",{className:"mb-8",children:"Sigue practicando. Recuerda: si no es un hecho 100% seguro, \xA1probablemente es subjuntivo!"}),(0,M.jsx)("button",{onClick:v,className:"btn-primary",children:"REINICIAR TUTORIAL"})]});default:return null}})()})]})})},bm=wC;var ge=q(X()),AC={ejercicio1:{correct:0,attempted:0},ejercicio2:{correct:0,attempted:0},ejercicio3:{correct:0,attempted:0},ejercicio4:{correct:0,attempted:0},ejercicio5:{correct:0,attempted:0},ejercicio6:{correct:0,attempted:0},ejercicio7:{correct:0,attempted:0}},PC={ejercicio1:[],ejercicio2:[],ejercicio3:[],ejercicio4:[],ejercicio5:[],ejercicio6:[],ejercicio7:[]},NC={ejercicio1:null,ejercicio2:null,ejercicio3:null,ejercicio4:null,ejercicio5:null,ejercicio6:null,ejercicio7:null},RC=()=>{let[n,e]=(0,oe.useState)("ejercicios"),[t,o]=(0,oe.useState)("ejercicio1"),[r,i]=(0,oe.useState)(PC),[l,u]=(0,oe.useState)(AC),[c,d]=(0,oe.useState)(NC),[f,p]=(0,oe.useState)([]),[m,g]=(0,oe.useState)(""),[_,E]=(0,oe.useState)(!1),[N,y]=(0,oe.useState)(1),[h,v]=(0,oe.useState)(0);(0,oe.useEffect)(()=>{try{let w=localStorage.getItem("subjunctiveAppProgress");if(w){let{level:A,totalCorrect:R}=JSON.parse(w);y(A||1),v(R||0)}}catch(w){console.error("Failed to load progress from localStorage",w)}},[]),(0,oe.useEffect)(()=>{let w=Wn.find(A=>A.levelNumber===N+1);w&&h>=w.unlockThreshold&&y(N+1);try{let A=JSON.stringify({level:N,totalCorrect:h});localStorage.setItem("subjunctiveAppProgress",A)}catch(A){console.error("Failed to save progress to localStorage",A)}},[h,N]),(0,oe.useEffect)(()=>{let w=A=>{A.ctrlKey&&A.altKey&&A.key==="l"&&(A.preventDefault(),console.log("Cheat activated: Unlocking all levels."),y(5))};return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[]);let T=(0,oe.useCallback)(w=>{let A=Oo[w],R=Xf(A.pool,5,A.type);i(D=>({...D,[w]:R})),d(D=>({...D,[w]:null}))},[]);(0,oe.useEffect)(()=>{T("ejercicio1")},[T]);let C=(0,oe.useCallback)(w=>{o(w),r[w].length===0&&T(w)},[r,T]),S=(w,A)=>{let R=r[w];if(!R||R.length===0)return;let D=0,H=[],Ae={};R.forEach((re,bt)=>{let Ue=A[bt]||"No respondi\xF3",Zt=(Ue||"").toLowerCase().trim().normalize("NFD").replace(/[\u0000-\u036f]/g,"").replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s+/g,""),Oi=re.cleanedAnswer===Zt;Oi&&D++,Ae[bt]=Oi,H.push({exerciseId:w,type:Oo[w].type,question:re.sentence||re.verb||re.answer,userAnswer:Ue,correctAnswer:re.answer,isCorrect:Oi,timestamp:Date.now()})}),p(re=>[...re,...H]),u(re=>({...re,[w]:{correct:re[w].correct+D,attempted:re[w].attempted+R.length}})),d(re=>({...re,[w]:{correctCount:D,total:R.length,results:Ae,isSubmitted:!0}})),v(re=>re+D)};return(0,ge.jsxs)("div",{id:"app-shell",children:[(0,ge.jsx)(Qm,{activeView:n,onViewChange:e}),n==="ejercicios"?(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(Jm,{scores:l,userLevel:N,totalCorrectAnswers:h}),(0,ge.jsx)(Wm,{onGetFeedback:async()=>{E(!0),g("");try{let w=await Gm(f);g(w)}catch(w){console.error("Error getting AI feedback:",w),g("Hubo un error al conectar con el tutor IA. Int\xE9ntalo de nuevo.")}finally{E(!1)}},feedback:m,isLoading:_,attempts:f}),(0,ge.jsxs)("div",{className:"app-container mt-8",children:[(0,ge.jsx)(Om,{activeTab:t,onTabChange:C,userLevel:N}),(0,ge.jsx)("main",{className:"pt-6",children:Object.keys(Oo).map(w=>{let A=w,R=Oo[A];return(0,ge.jsx)("div",{className:t===A?"":"hidden",children:(0,ge.jsx)(Km,{id:A,config:R,questions:r[A],result:c[A],onCheck:S,onGenerate:()=>T(A)})},A)})})]})]}):(0,ge.jsx)(bm,{}),(0,ge.jsx)("footer",{className:"text-center mt-8 text-gray-500 text-sm",children:"Hecho con \u2764\uFE0F para estudiantes de espa\xF1ol. | Potenciado por Gemini (2025)"})]})},Zm=RC;var jm=q(un());var Xn=q(X()),cu=class extends jm.Component{constructor(){super(...arguments);du(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,o){console.error("Uncaught error:",t,o),this.setState({error:t,errorInfo:o})}render(){return this.state.hasError?(0,Xn.jsxs)("div",{style:{padding:"20px",fontFamily:"sans-serif",backgroundColor:"#fff3f3",border:"1px solid #ff0000",margin:"20px",borderRadius:"8px"},children:[(0,Xn.jsx)("h1",{children:"Algo sali\xF3 mal."}),(0,Xn.jsx)("p",{children:"Se ha producido un error en la aplicaci\xF3n. Esto puede deberse a un problema temporal. Intenta recargar la p\xE1gina."}),(0,Xn.jsxs)("details",{style:{whiteSpace:"pre-wrap",marginTop:"20px"},children:[(0,Xn.jsx)("summary",{children:"Detalles del error (para desarrolladores)"}),this.state.error&&this.state.error.toString(),(0,Xn.jsx)("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}},eh=cu;var Wi=q(X()),oh=document.getElementById("root");if(!oh)throw new Error("Could not find root element to mount to");var xC=th.default.createRoot(oh);xC.render((0,Wi.jsx)(nh.default.StrictMode,{children:(0,Wi.jsx)(eh,{children:(0,Wi.jsx)(Zm,{})})}));})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
